{"version":3,"sources":["Title.js"],"names":[],"mappings":"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","file":"Title-compiled.js","sourcesContent":["// == Title.js -- Copyright (C) Stefan Goessner ========================\r\nfunction Title(doc, sz)\r\n{\r\n   this.element = null;  // element to show title of ..\r\n   Title.size = sz;      // text size ..\r\n   Title.scl = doc.getDocumentElement().getCurrentScale();     // scaling modified by zooming ..\r\n   Title.off = doc.getDocumentElement().getCurrentTranslate(); // offset modified by zooming ..\r\n   this.Create(doc);\r\n   AddTitleEvents(doc.getDocumentElement());\r\n   doc.getDocumentElement().addEventListener(\"zoom\", Title.Zoom, false);\r\n   window.svgTitle = this;\r\n}\r\n\r\nTitle.prototype.Create = function(doc)\r\n{\r\n   this.rec = doc.createElement(\"rect\");\r\n   this.rec.setAttribute(\"y\", -0.9*Title.size);\r\n   this.rec.setAttribute(\"x\", -0.25*Title.size);\r\n   this.rec.setAttribute(\"width\", \"1\");\r\n   this.rec.setAttribute(\"height\", 1.25*Title.size);\r\n   this.rec.setAttribute(\"style\", \"stroke:black;fill:#edefc2;stroke-width:1\");\r\n\r\n   this.str = doc.createTextNode(\"\");\r\n\r\n   this.txt = doc.createElement(\"text\")\r\n   this.txt.setAttribute(\"style\", \"font-family:Arial; font-size:\" + Title.size + \";fill:black;\");\r\n   this.txt.appendChild(this.str);\r\n\r\n   this.grp = doc.createElement(\"g\"),\r\n   this.grp.setAttribute(\"transform\", \"translate(0,0)\");\r\n   this.grp.setAttribute(\"visibility\", \"hidden\");\r\n   this.grp.appendChild(this.rec);\r\n   this.grp.appendChild(this.txt);\r\n\r\n   doc.getDocumentElement().appendChild(this.grp);\r\n}\r\n\r\nTitle.Activate = function Title_Activate(evt)\r\n{\r\n   if (window.svgTitle.element == null)\r\n   {\r\n     var  x = (evt.getClientX() - Title.off.getX())/Title.scl +  0.25*Title.size,\r\n          y = (evt.getClientY() - Title.off.getY())/Title.scl - Title.size;\r\n\r\n      window.svgTitle.element = evt.getCurrentTarget();\r\n      window.svgTitle.element.removeEventListener(\"mouseover\", Title.Activate, false);\r\n      window.svgTitle.element.addEventListener(\"mouseout\", Title.Passivate, false);\r\n      window.svgTitle.str.setNodeValue(TextOf(TitleElementOf(window.svgTitle.element)));\r\n      window.svgTitle.rec.setAttribute(\"width\", window.svgTitle.txt.getComputedTextLength() + 0.5*Title.size);\r\n      window.svgTitle.grp.setAttribute(\"transform\", \"translate(\" + x + \",\" + y + \")\");\r\n      window.svgTitle.grp.setAttribute(\"visibility\", \"visible\");\r\n   }\r\n}\r\n\r\nTitle.Passivate = function Title_Passivate(evt)\r\n{\r\n   if (window.svgTitle.element != null)\r\n   {\r\n      window.svgTitle.grp.setAttribute(\"visibility\", \"hidden\");\r\n      window.svgTitle.element.removeEventListener(\"mouseout\", Title.Passivate, false);\r\n      window.svgTitle.element.addEventListener(\"mouseover\", Title.Activate, false);\r\n      window.svgTitle.element = null;\r\n   }\r\n}\r\n\r\nTitle.Zoom = function Title_Zoom(evt)\r\n{\r\n   var newscl = evt.getTarget().getOwnerDocument().getDocumentElement().getCurrentScale();\r\n\r\n   Title.size *= Title.scl/newscl;\r\n   Title.scl = newscl;\r\n   Title.off = evt.getTarget().getOwnerDocument().getDocumentElement().getCurrentTranslate();\r\n\r\n   window.svgTitle.rec.setAttribute(\"y\", -0.9*Title.size);\r\n   window.svgTitle.rec.setAttribute(\"x\", -0.25*Title.size);\r\n   window.svgTitle.rec.setAttribute(\"height\", 1.25*Title.size);\r\n   window.svgTitle.rec.setAttribute(\"style\", \"stroke:black;fill:#edefc2;stroke-width:\" + 1/Title.scl);\r\n   window.svgTitle.txt.setAttribute(\"style\", \"font-family:Arial; font-size:\" + Title.size + \";fill:black;\");\r\n}\r\n\r\nTitle.Register = function Title_Register(elem)\r\n{\r\n   if (TitleElementOf(elem) != null)\r\n      elem.addEventListener(\"mouseover\", Title.Activate, false);\r\n}\r\n\r\n// --- local helper functions ------------------------\r\n\r\nfunction TitleElementOf(elem)\r\n{\r\n   var childs = elem.getChildNodes();\r\n\r\n   for (var i=0; i<childs.getLength(); i++)\r\n      if (childs.item(i).getNodeType() == 1 && childs.item(i).getNodeName() == \"title\") // title element ..\r\n         return childs.item(i);\r\n   \r\n   return null;\r\n}\r\n\r\nfunction TextOf(elem)\r\n{\r\n   var childs = elem ? elem.getChildNodes() : null;\r\n\r\n   for (var i=0; childs && i<childs.getLength(); i++)\r\n      if (childs.item(i).getNodeType() == 3) // text node ..\r\n         return childs.item(i).getNodeValue();\r\n   \r\n   return \"\";\r\n}\r\n\r\nfunction AddTitleEvents(elem)\r\n{\r\n   var childs = elem.getChildNodes();\r\n\r\n   for (var i=0; i<childs.getLength(); i++)\r\n      if (childs.item(i).getNodeType() == 1) // element node ..\r\n         AddTitleEvents(childs.item(i));\r\n\r\n   if (TitleElementOf(elem) != null)\r\n      elem.addEventListener(\"mouseover\", Title.Activate, false);\r\n}\r\n\r\n// === end ======================================================\r\n"]}