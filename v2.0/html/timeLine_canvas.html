<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>canvas 版本 时间轴</title>
    <script type="text/javascript" src="../lib/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="../lib/moment.min.js"></script>
    <script type="text/javascript" src="../timeLine/js/timeLine.js"></script>
    <link rel="stylesheet" type="text/css" href="../timeLine/css/timeLine.css" />
</head>

<body>

    <div id="timeLineUI">

    </div>
    <div>
        <button onclick="addDataA()"> 添加数据A</button>
        <button onclick="addDataB()"> 添加数据B</button>
        <button onclick="addDataC()"> 添加数据C</button>
        <button onclick="addDataD()"> 添加数据D</button>
        <button onclick="addDataE()"> 添加数据E</button>
    </div>

    <div>
        <button onclick="removeDataA()"> 移除数据A</button>
        <button onclick="removeDataB()"> 移除数据B</button>
        <button onclick="removeDataC()"> 移除数据C</button>
        <button onclick="removeDataD()"> 移除数据D</button>
        <button onclick="removeDataE()"> 移除数据E</button>
    </div>

    <div>
        <button onclick="resetOrder()"> 移除数据EDCBA</button>
    </div>

    <div>
        <button onclick="setOneMonthTimeAfter()"> 设置时间为一个月后</button>


    </div>
</body>
<script type="application/javascript">
    function addDataA() {
        var DataA = {
            "name": "A",
            index: 3,
            datainfolist:[{"begintime":"20171224000000","endtime":"20171225000000"},{"begintime":"20171223000000","endtime":"20171224000000"},{"begintime":"20171222000000","endtime":"20171223000000"},{"begintime":"20171221000000","endtime":"20171222000000"},{"begintime":"20171220000000","endtime":"20171221000000"},{"begintime":"20171219000000","endtime":"20171220000000"},{"begintime":"20171218000000","endtime":"20171219000000"},{"begintime":"20171217000000","endtime":"20171218000000"},{"begintime":"20171216000000","endtime":"20171217000000"},{"begintime":"20171215000000","endtime":"20171216000000"},{"begintime":"20171214000000","endtime":"20171215000000"},{"begintime":"20171213000000","endtime":"20171214000000"},{"begintime":"20171212000000","endtime":"20171213000000"},{"begintime":"20171211000000","endtime":"20171212000000"},{"begintime":"20171210000000","endtime":"20171211000000"},{"begintime":"20171209000000","endtime":"20171210000000"},{"begintime":"20171208000000","endtime":"20171209000000"},{"begintime":"20171207000000","endtime":"20171208000000"},{"begintime":"20171206000000","endtime":"20171207000000"},{"begintime":"20171205000000","endtime":"20171206000000"},{"begintime":"20171204000000","endtime":"20171205000000"},{"begintime":"20171203000000","endtime":"20171204000000"},{"begintime":"20171202000000","endtime":"20171203000000"},{"begintime":"20171201000000","endtime":"20171202000000"},{"begintime":"20171130000000","endtime":"20171201000000"},{"begintime":"20171129000000","endtime":"20171130000000"},{"begintime":"20171128000000","endtime":"20171129000000"},{"begintime":"20171127000000","endtime":"20171128000000"},{"begintime":"20171126000000","endtime":"20171127000000"},{"begintime":"20171125000000","endtime":"20171126000000"},{"begintime":"20171123000000","endtime":"20171124000000"},{"begintime":"20171116000000","endtime":"20171117000000"},{"begintime":"20171115000000","endtime":"20171116000000"},{"begintime":"20171113000000","endtime":"20171114000000"},{"begintime":"20171112000000","endtime":"20171113000000"},{"begintime":"20171111000000","endtime":"20171112000000"},{"begintime":"20171110000000","endtime":"20171111000000"},{"begintime":"20171109000000","endtime":"20171110000000"},{"begintime":"20171108000000","endtime":"20171109000000"},{"begintime":"20171107000000","endtime":"20171108000000"},{"begintime":"20171106000000","endtime":"20171107000000"},{"begintime":"20171105000000","endtime":"20171106000000"},{"begintime":"20171104000000","endtime":"20171105000000"},{"begintime":"20171101000000","endtime":"20171102000000"},{"begintime":"20171031000000","endtime":"20171101000000"},{"begintime":"20171030000000","endtime":"20171031000000"},{"begintime":"20171027000000","endtime":"20171028000000"},{"begintime":"20170720000000","endtime":"20170721000000"},{"begintime":"20170718000000","endtime":"20170719000000"},{"begintime":"20170713000000","endtime":"20170714000000"},{"begintime":"20170505000000","endtime":"20170506000000"}]
        };
        timeLine.addDataInfo([DataA]);
    }

    function addDataB() {
        var DataA = {
            "name": "B",
            index: 3,
            datainfolist: [{
                "begintime": "20161122002000",
                "endtime": "20161122003000"
            }]
        };
        timeLine.addDataInfo([DataA]);
    }

    function addDataC() {
        var DataA = {
            "name": "C",
            index: 3,
            datainfolist: [{
                "begintime": "20161222002000",
                "endtime": "20161222003000"
            }]
        };
        timeLine.addDataInfo([DataA]);
    }

    function addDataD() {
        var DataA = {
            "name": "D",
            index: 3,
            datainfolist: [{
                "begintime": "20170122002000",
                "endtime": "20170122003000"
            }]
        };
        timeLine.addDataInfo([DataA]);
    }

    function addDataE() {
        var DataA = {
            "name": "E",
            index: 3,
            datainfolist: [{
                "begintime": "20170322002000",
                "endtime": "20170322003000"
            }]
        };
        timeLine.addDataInfo([DataA]);
    }

    function removeDataA() {
        timeLine.setDataInfoVislbility("A", false);
        //timeLine.removeDataInfo("A");
    }

    function removeDataB() {

        timeLine.removeDataInfo("B");
    }

    function removeDataC() {

        timeLine.removeDataInfo("C");
    }

    function removeDataD() {
        timeLine.removeDataInfo("D");
    }

    function removeDataE() {
        timeLine.removeDataInfo("E");
    }

    function resetOrder() {
        timeLine.setDataInfoListOrder(["E", "D", "C", "B", "A"]);
    }


    function setOneMonthTimeAfter() {
        var _select_moment = moment.utc();
        _select_moment.add(1.0, "month");
        timeLine.setSelectMoment(_select_moment)
    }

    function _initTimeLine() {
        var _timeline = document.getElementById('timeLineUI');
        var _options = {};
        timeLine.initialize(_timeline, _options);
    }


    _initTimeLine();


    //测试点击事件
    $("#timeLineUI").on("DateTimeChange", function (event, selectDate) {
        // alert("控件数值修改 ，触发事件！ 修改后的时间为：" + selectDate.format("YYYY-MM-DD HH:mm:ss"));
        //console.log(selectDate.format("YYYY-MM-DD HH:mm:ss"));
        //console.log(moment(selectDate).format("YYYY-MM-DD HH:mm:ss"));
    });
</script>

</html>