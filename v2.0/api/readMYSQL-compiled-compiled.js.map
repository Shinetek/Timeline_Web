{"version":3,"sources":["readMYSQL-compiled.js"],"names":[],"mappings":"AAAA;;;;;AAKA,IAAI,QAAQ,QAAQ,OAAR,CAAZ;AACA,IAAI,KAAK,QAAQ,IAAR,CAAT;AACA,IAAI,SAAS,QAAQ,eAAR,CAAb;;AAEA,SAAS,oBAAT,GAAgC;AAC5B,QAAI,QAAQ,MAAZ;AACA,QAAI,SAAS,OAAb;AACA,QAAI,WAAW,KAAf;AACA,QAAI,aAAa,GAAjB;AACA,QAAI,OAAO,kCAAkC,kBAAlC,GAAuD,KAAvD,GAA+D,yBAA/D,GAA2F,MAA3F,GAAoG,sBAApG,GAA6H,QAA7H,GAAwI,oBAAxI,GAA+J,UAA/J,GAA4K,6CAA5K,GAA4N,aAAvO;;AAEA,YAAQ,GAAR,CAAY,IAAZ;AACA,QAAI,SAAS,MAAM,gBAAN,CAAuB;AAChC,gBAAQ,OAAO,KAAP,CAAa,IADW;AAEhC,gBAAQ,OAAO,KAAP,CAAa,IAFW;AAGhC,oBAAY,OAAO,KAAP,CAAa,QAHO;AAIhC,oBAAY,OAAO,KAAP,CAAa;AAJO,KAAvB,CAAb;;AAOA,WAAO,OAAP;AACA,WAAO,KAAP,CAAa,IAAb,EAAmB,SAAS,QAAT,CAAkB,GAAlB,EAAuB,OAAvB,EAAgC;AAC/C,eAAO,GAAP;AACA,YAAI,GAAJ,EAAS;AACL,gBAAI,GAAJ,CAAQ,KAAK,SAAL,CAAe,GAAf,CAAR;AACA;AACH;AACD,YAAI,OAAJ,EAAa;AACT,gBAAI,WAAW,EAAf;;AAEA,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,QAAQ,MAA5B,EAAoC,GAApC,EAAyC;AACrC,oBAAI,OAAO,QAAQ,CAAR,CAAX;AACA,oBAAI,KAAK,OAAT,EAAkB;AACd,wBAAI,WAAW,EAAE,WAAW,KAAK,SAAlB,EAA6B,SAAS,KAAK,OAA3C,EAAf;AACA,6BAAS,IAAT,CAAc,QAAd;AACH;AACJ;AACD,oBAAQ,GAAR,CAAY,QAAZ;AACA,eAAG,aAAH,CAAiB,UAAjB,EAA6B,KAAK,SAAL,CAAe,QAAf,CAA7B;AACH;AACJ,KAnBD;AAoBA,WAAO,EAAP,CAAU,OAAV,EAAmB,UAAU,GAAV,EAAe;AAC9B,YAAI,GAAJ,EAAS;AACL,mBAAO,GAAP;AACH;AACJ,KAJD;AAKH;AACD;;AAEA","file":"readMYSQL-compiled-compiled.js","sourcesContent":["/**\r\n * Created by lenovo on 2017/11/22.\r\n * 从MYSQL数据库中获取\r\n */\n\nvar mysql = require('mysql');\nvar fs = require('fs');\nvar config = require('./config.json');\n\nfunction getFromMysqlDataInfo() {\n    var SatID = \"H8XX\";\n    var InstID = \"AHIXX\";\n    var ProdName = \"PRJ\";\n    var Resolution = 500;\n    var _SQL = \" SELECT  * FROM ProductInfo  \" + \" where  SatID ='\" + SatID + \"' and InstrumentName ='\" + InstID + \"' and ProductName ='\" + ProdName + \"' and Resolution =\" + Resolution + \" and IsExitFlag = 1 order by CreatTime desc\" + \" limit 1000\";\n\n    console.log(_SQL);\n    var client = mysql.createConnection({\n        \"host\": config.MYSQL.host,\n        \"user\": config.MYSQL.user,\n        \"password\": config.MYSQL.password,\n        \"database\": config.MYSQL.database\n    });\n\n    client.connect();\n    client.query(_SQL, function selectCb(err, results) {\n        client.end();\n        if (err) {\n            res.end(JSON.stringify(err));\n            next();\n        }\n        if (results) {\n            var DataList = [];\n\n            for (var i = 0; i < results.length; i++) {\n                var item = results[i];\n                if (item.EndTime) {\n                    var pushItem = { begintime: item.StartTime, endtime: item.EndTime };\n                    DataList.push(pushItem);\n                }\n            }\n            console.log(DataList);\n            fs.writeFileSync('PRJ.json', JSON.stringify(DataList));\n        }\n    });\n    client.on('error', function (err) {\n        if (err) {\n            client.end();\n        }\n    });\n}\ngetFromMysqlDataInfo();\n\n//# sourceMappingURL=readMYSQL-compiled.js.map"]}