{"version":3,"sources":["timeLine.js"],"names":[],"mappings":"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","file":"timeLine-compiled.js","sourcesContent":["/**\r\n * Created by lenovo on 2017/10/17.\r\n */\r\nvar TimeLine = function () {\r\n    var _self = this;\r\n\r\n    /**\r\n     * 当前选择日期 精确到时分秒\r\n     * @type {Date}\r\n     */\r\n    _self.TimeLineDate = new Date();\r\n    var Year_Show = _self.TimeLineDate.getUTCFullYear();\r\n    var Month_Show = _self.TimeLineDate.getMonth() + 1;\r\n    var Day_Show = _self.TimeLineDate.getDate();\r\n    var Hour_Show = _self.TimeLineDate.getHours();\r\n    var Minute_Show = _self.TimeLineDate.getMinutes();\r\n\r\n    /**\r\n     * 整体显示 -- 当前浏览器类型\r\n     * @type {string}\r\n     */\r\n    _self.browserType = \"\";\r\n\r\n    /**\r\n     *整体显示 -- 目标div ID\r\n     * @type {string}\r\n     */\r\n    _self.IDName = '';\r\n\r\n    /**\r\n     * 显示模式  默认使用月模式\r\n     * Year_Mode Month_Mode Day_Mode Minute_Mode\r\n     * @type {string}\r\n     */\r\n    _self.ShowMode = \"Minute_Mode\";\r\n\r\n    /**\r\n     * 当前显示模式 是都显示TimeLineSVG\r\n     * true 显示时间轴\r\n     * false 显示时间轴\r\n     * @type {boolean}\r\n     */\r\n    _self.Is_ShowSVGLine = true;\r\n\r\n    var _yearModeClass = new YearModeClass();\r\n    var _monthModeClass = new MonthModeClass();\r\n    var _dayModeClass = new YearModeClass();\r\n    var _minuteModeClass = new YearModeClass();\r\n\r\n    _self.ShowModeClass = _yearModeClass;\r\n    _self.LayerDataInfo = [];\r\n\r\n    /**\r\n     *\r\n     * @param DIVid\r\n     * @param initMode\r\n     * @constructor\r\n     */\r\n    _self.init = function (DIVid, initMode) {\r\n        //获取当前浏览器类型\r\n        _self.browserType = _setModeIE();\r\n        //用DIVid 赋值\r\n        _self.IDName = DIVid;\r\n        //对初始化的类型赋值\r\n        switch (initMode) {\r\n            case \"YEAR\":\r\n            {\r\n                _self.ShowMode = \"Year_Mode\";\r\n                break;\r\n            }\r\n            case \"MONTH\":\r\n            {\r\n                _self.ShowMode = \"Month_Mode\";\r\n                break;\r\n            }\r\n            case \"DAY\":\r\n            {\r\n                _self.ShowMode = \"Day_Mode\";\r\n                break;\r\n            }\r\n            case \"MINUTE\":\r\n            {\r\n                _self.ShowMode = \"Minute_Mode\";\r\n                break;\r\n            }\r\n            default:\r\n            {\r\n                _self.ShowMode = \"Day_Mode\";\r\n                //默认使用天显示 模式\r\n                break;\r\n            }\r\n        }\r\n        _initShow();\r\n        _initDateClickFunc();\r\n    };\r\n\r\n    /**\r\n     * 数值修改触发函数 外部重写此函数 获取修改事件\r\n     * @constructor\r\n     */\r\n    _self.DateTimeChange = function () {\r\n        $(\"#\" + _self.IDName).trigger(\"DateTimeChange\", [_self.TimeLineDate]);\r\n    };\r\n\r\n\r\n    /**\r\n     *\r\n     * @returns {*}\r\n     * @private\r\n     */\r\n    var _setModeIE = function () {\r\n        var explorer = window.navigator.userAgent;\r\n\r\n        if (navigator.userAgent.indexOf(\"Trident\") > 0 || navigator.userAgent.indexOf(\"Edge\") > 0) {\r\n            return \"Edge\";\r\n        }\r\n        if (navigator.userAgent.indexOf(\"MSIE\") > 0) {\r\n            return \"MSIE\";\r\n        }\r\n        if (navigator.userAgent.indexOf(\"Firefox\") > 0) {\r\n            return \"Firefox\";\r\n        }\r\n        if (explorer.indexOf(\"Chrome\") >= 0) {\r\n            return \"Chrome\";\r\n        }\r\n        if (navigator.userAgent.indexOf(\"Safari\") > 0) {\r\n            return \"Safari\";\r\n        }\r\n        if (navigator.userAgent.indexOf(\"Camino\") > 0) {\r\n            return \"Camino\";\r\n        }\r\n        if (navigator.userAgent.indexOf(\"Gecko/\") > 0) {\r\n            return \"Gecko\";\r\n        }\r\n        if (explorer.indexOf(\"Opera\") >= 0) {\r\n            return \"Opera\";\r\n        }\r\n        return \"unknown\";\r\n    };\r\n\r\n    /**\r\n     *  对 当前控件宽度 进行控制\r\n     * @private\r\n     */\r\n    var _getFullModeWidth = function () {\r\n\r\n        if (_self.IDName === '') {\r\n            return;\r\n        }\r\n        var m_browserType = _self.browserType;\r\n        var m_DIVID = _self.IDName;\r\n        var m_ClassADD = document.getElementById(m_DIVID);\r\n        var TimeLineTotalDIV = document.getElementById(\"ShowTimeLine\");\r\n        var TimeLineList = document.getElementsByClassName(\"svg_ALL\");\r\n        var Total_Witdh = 0;\r\n\r\n        switch (m_browserType) {\r\n\r\n            case 'Chrome':\r\n            {\r\n                // 总宽度\r\n                var TotalWidth = (document.documentElement.scrollWidth > document.documentElement.clientWidth)\r\n                    ? document.documentElement.scrollWidth : document.documentElement.scrollWidth;\r\n                Total_Witdh = TotalWidth;\r\n                //设置整体控件宽度\r\n                if (TotalWidth > 380) {\r\n                    document.getElementById(m_DIVID).style.width = TotalWidth;\r\n                } else {\r\n                    document.getElementById(m_DIVID).style.width = 380;\r\n                }\r\n\r\n                //右侧SVGTimeLine高度\r\n                var SVGWitdh = 0;\r\n                SVGWitdh = TotalWidth - 490;\r\n                //设置TimeLine宽度\r\n                TimeLineTotalDIV.style.width = TotalWidth - 360;\r\n\r\n                //SVG列表 设置宽度\r\n                for (var j = 0; j < TimeLineList.length; j++) {\r\n                    TimeLineList[j].style.width = SVGWitdh;\r\n                }\r\n                break;\r\n            }\r\n            //chrome 浏览器\r\n            case 'Firefox':\r\n            {\r\n                // 总宽度\r\n                var TotalWidth_fireFox = document.documentElement.clientWidth - 20;\r\n                Total_Witdh = TotalWidth_fireFox;\r\n                //设置TimeLine DIV宽度\r\n                if (TotalWidth_fireFox > 360) {\r\n                    m_ClassADD.style.width = TotalWidth_fireFox + \"px\";\r\n                } else {\r\n                    m_ClassADD.style.width = 360 + \"px\";\r\n                }\r\n                //SVG列表 设置宽度\r\n                var SVGWitdh_fireFox = TotalWidth_fireFox - 490;\r\n                for (var k = 0; k < TimeLineList.length; k++) {\r\n                    TimeLineList[k].style.width = SVGWitdh_fireFox + \"px\";\r\n                }\r\n                //右侧SVGTimeLine宽度\r\n                TimeLineTotalDIV.style.width = (TotalWidth_fireFox - 360) + \"px\";\r\n                break;\r\n            }\r\n            case \"MSIE\":\r\n            {\r\n                // 总宽度\r\n                var TotalWidth_MSIE = document.documentElement.clientWidth - 20;\r\n                Total_Witdh = TotalWidth_MSIE;\r\n                //设置TimeLine DIV宽度\r\n                if (TotalWidth_MSIE > 360) {\r\n                    m_ClassADD.style.width = TotalWidth_MSIE + \"px\";\r\n                } else {\r\n                    m_ClassADD.style.width = 360 + \"px\";\r\n                }\r\n                //SVG列表 设置宽度\r\n                var SVGWitdh_MSIE = TotalWidth_MSIE - 490;\r\n                for (var ti = 0; ti < TimeLineList.length; ti++) {\r\n                    TimeLineList[ti].style.width = SVGWitdh_MSIE + \"px\";\r\n                }\r\n                //右侧SVGTimeLine宽度\r\n                TimeLineTotalDIV.style.width = (TotalWidth_MSIE - 360) + \"px\";\r\n                break;\r\n            }\r\n            case 'Edge':\r\n            {\r\n                var curW = document.documentElement.clientWidth || document.body.clientWidth;\r\n                //var curH = document.documentElement.clientHeight || document.body.clientHeight;\r\n                //  console.log('Edge:' + curW);\r\n\r\n                // 总宽度\r\n                var TotalWidth_Edge = curW - 20;\r\n                Total_Witdh = TotalWidth_Edge;\r\n                //设置TimeLine DIV宽度\r\n                if (TotalWidth_Edge > 360) {\r\n                    m_ClassADD.style.width = TotalWidth_Edge + \"px\";\r\n                } else {\r\n                    m_ClassADD.style.width = 360 + \"px\";\r\n                }\r\n                //SVG列表 设置宽度\r\n                var SVGWitdh_Edge = TotalWidth_Edge - 490;\r\n                for (var tj = 0; tj < TimeLineList.length; tj++) {\r\n                    TimeLineList[tj].style.width = SVGWitdh_Edge + \"px\";\r\n                }\r\n                //右侧SVGTimeLine宽度\r\n                TimeLineTotalDIV.style.width = (TotalWidth_Edge - 360) + \"px\";\r\n                break;\r\n            }\r\n            default:\r\n            {\r\n                break;\r\n            }\r\n        }\r\n\r\n        //495\r\n        var ShowTimeLine = document.getElementsByClassName(\"TimeLineTotalDiv\");\r\n        if (Total_Witdh < 495) {\r\n            for (var i = 0; i < ShowTimeLine.length; i++) {\r\n                ShowTimeLine[i].style.display = \"none\";\r\n            }\r\n            _self.Is_ShowSVGLine = false;\r\n        } else {\r\n            //var ShowTimeLine = document.getElementsByClassName(\"TimeLineTotalDiv\");\r\n            for (var t1 = 0; t1 < ShowTimeLine.length; t1++) {\r\n                ShowTimeLine[t1].style.display = \"block\";\r\n            }\r\n            _self.Is_ShowSVGLine = true;\r\n        }\r\n        //根据新长度计算当前显示宽度值\r\n        if (Total_Witdh !== 0 && Total_Witdh > 0) {\r\n            // console.log(\"屏幕总宽度：\" + Total_Witdh);\r\n            var CountWidth = Total_Witdh - 300 - 150;\r\n            //年的 10年 一年25\r\n            YearShowCount = Math.ceil(CountWidth / 10 / 25) + 1;\r\n            //月 一年 12个月 一个月12.5\r\n            MonthShowCount = Math.ceil(CountWidth / 12.5 / 12) + 2;\r\n            //day 一个月 29天\r\n            DayShowCount = Math.ceil(CountWidth / 29 / 12.5) + 1;\r\n            //分钟 一小时  12个 5分钟 1个12.5\r\n            MinutesShowCount = Math.ceil(CountWidth / 12 / 12.5) + 1;\r\n            //console.log(YearShowCount + \":\" + MonthShowCount + \":\" + DayShowCount + \":\" + MinutesShowCount);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * 初始化基础显示\r\n     * @private\r\n     */\r\n    var _initShow = function () {\r\n        var m_ID = _self.IDName;\r\n        //左侧时间选择\r\n        var ShowAll =\r\n            ' <div class=\"TimeInputDiv\">'\r\n            + '<div id=\"YearInputDiv\">'\r\n            + '<div class=\"UpButton\" id=\"btn_AddYear\">'\r\n            + '<svg width=\"98\" height=\"25\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<path d=\"m25.5,20.5l23.49999,-12l23.50001,12l-47,0z\" fill=\"#fff\"/>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '<input class=\"TimeInput\" id=\"txt_Year\" type=\"text\" readOnly=\"true\">  '\r\n            + '<div class=\"DownButton\" id=\"btn_MinusYear\">'\r\n            + '<svg>'\r\n            + '<path transform=\"rotate(-180 50,14.5) \" d=\"m25.5,20.5l23.49999,-12l23.50001,12l-47,0z\" fill=\"#fff\"/>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div id=\"MonthInputDiv\">'\r\n            + '<div class=\"UpButton\" id=\"btn_AddMonth\">'\r\n            + '<svg width=\"98\" height=\"25\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<path d=\"m10,20.5l19.99999,-12l20.00001,12l-40,0z\" fill=\"#fff\"/>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '<input class=\"MonthInput\" id=\"txt_Month\" type=\"text\" readOnly=\"true\">  '\r\n            + '<div class=\"DownButton\" id=\"btn_MinusMonth\">'\r\n            + '<svg width=\"98\" height=\"25\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<path transform=\"rotate(-180 30,14.5) \" d=\"m10,20.5l19.99999,-12l20.00001,12l-40,0z\" fill=\"#fff\"/>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div id=\"DayInputDiv\">'\r\n            + '<div class=\"UpButton\" id=\"btn_AddDay\">'\r\n            + '<svg width=\"98\" height=\"25\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<path d=\"m10,20.5l19.99999,-12l20.00001,12l-40,0z\" fill=\"#fff\"/>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '<input class=\"MonthInput\" id=\"txt_Day\" type=\"text\"  readOnly=\"true\"> '\r\n            + '<div class=\"DownButton\" id=\"btn_MinusDay\">'\r\n            + '<svg width=\"98\" height=\"25\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<path transform=\"rotate(-180 30,14.5) \" d=\"m10,20.5l19.99999,-12l20.00001,12l-40,0z\" fill=\"#fff\"/>'\r\n            + '</svg>'\r\n            + '</div> '\r\n            + '</div>'\r\n            + '<div class=\"AfterDiv\" id=\"btn_BeforeTime\">'\r\n            + '<svg style=\"width: 24px;height: 44px;margin-top: 26px; transform:scaleX(-1);\">'\r\n            + '<path style=\"fill: #fff ;\" d=\"M 10.240764,0 24,22 10.240764,44 0,44 13.759236,22 0,0 10.240764,0 z\"></path>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '<div class=\"AfterDiv\" id=\"btn_AfterTime\">'\r\n            + '<svg style=\"width: 24px;height: 44px;margin-top: 26px; \">'\r\n            + '<path style=\"fill: #fff;\" d=\"M 10.240764,0 24,22 10.240764,44 0,44 13.759236,22 0,0 10.240764,0 z\"></path>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div class=\"TimeLineTotalDiv\" id=\"ShowTimeLine\">'\r\n            + '<div class=\"TimeLineDiv\" id=\"Show_YearDiv\">'\r\n            + '<!--时间轴部分-->'\r\n            + '<div class=\"TimeLineDiv_Inside\" id=\"ShowTimeLineDiv_Year\">'\r\n            + '<div class=\"SVGDiv_Inside\">'\r\n            + '<svg class=\"svg_ALL\" height=\"99\" id=\"SVG_Year_Total\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<!--模式选择部分-->'\r\n            + '<div class=\"TimeMode_Inner\" id=\" TimeModeDiv YearMode_Div\">'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '<div class=\"BigShowDiv    btn_ShowYear\">Years</div>'\r\n            + '<div class=\"MedShowDiv    btn_ShowMonth\">Months</div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowDay\">Days</div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowMinute\">Minutes</div>'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div class=\"TimeLineDiv\" id=\"Show_MonthDiv\" style=\"display: none\">'\r\n            + '<!--  月时间轴部分-->'\r\n            + '<div class=\"TimeLineDiv_Inside\" id=\"ShowTimeLineDiv_Month\">'\r\n            + '<svg class=\"svg_ALL\" height=\"100\" id=\"SVG_Total\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<g id=\"ShowSVG\" transform=\"translate(0,6)\" class=\"x aixs\"></g>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '<!--  月时间轴选择部分 -->'\r\n            + '<div id=\"MonthMode_Div\" class=\" TimeModeDiv TimeMode_Inner\">'\r\n            + '<div class=\"SmallFillDiv  \"></div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowYear\">Years</div>'\r\n            + '<div class=\"BigShowDiv    btn_ShowMonth\">Months</div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowDay\">Days</div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowMinute\">Minutes</div>'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div class=\"TimeLineDiv\" id=\"Show_DayDiv\" style=\"display: none\">'\r\n            + '<div class=\"TimeLineDiv_Inside\" id=\"ShowTimeLineDiv_Day\">'\r\n            + '<svg class=\"svg_ALL\" height=\"100\" id=\"SVG_Day_Total\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<g id=\"ShowSVG_Day\" transform=\"translate(0,6)\" class=\"x aixs \">'\r\n            + '</g>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '<div class=\" TimeModeDiv TimeMode_Inner\" id=\"DayMode_Div\">'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowYear \">Years</div>'\r\n            + '<div class=\"MedShowDiv    btn_ShowMonth\">Months</div>'\r\n            + '<div class=\"BigShowDiv    btn_ShowDay  \">Days</div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowMinute\">Minutes</div>'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div class=\"TimeLineDiv\" id=\"Show_MinuteDiv\" style=\"display: none\">'\r\n            + '<div class=\"TimeLineDiv_Inside\" id=\"ShowTimeLineDiv_Minute\">'\r\n            + '<svg class=\"svg_ALL\" height=\"100\" id=\"SVG_Minute_Total\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<g id=\"ShowSVG_Minute\" transform=\"translate(0,6)\" class=\"x aixs \">'\r\n            + '</g>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '<div class=\" TimeModeDiv TimeMode_Inner\" id=\"MinuteMode_Div\">'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowYear \">Years</div>'\r\n            + '<div class=\"SmallShowDiv    btn_ShowMonth\">Months</div>'\r\n            + '<div class=\"MedShowDiv    btn_ShowDay  \">Days</div>'\r\n            + '<div class=\"BigShowDiv  btn_ShowMinute\">Minutes</div>'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div class=\"ShowHidebtnDiv\" id=\"ShowHidebtn\">'\r\n            + '<svg width=\"25\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<g>'\r\n            + '<title>展开/隐藏</title>'\r\n            + '<path id=\"svg_1\" d=\"m3,55.94447l19,0l0,4l-19,0l0,-4z\" stroke-width=\"0\" stroke=\"#000\" fill=\"#fff\"/>'\r\n            + '<path id=\"svg_2\" d=\"m3,47.94447l19,0l0,4l-19,0l0,-4z\" stroke-width=\"0\" stroke=\"#000\" fill=\"#fff\"/>'\r\n            + '<path id=\"svg_3\" d=\"m3,39.94447l19,0l0,4l-19,0l0,-4z\" stroke-width=\"0\" stroke=\"#000\" fill=\"#fff\"/>'\r\n            + '</svg>'\r\n            + '</div>';\r\n\r\n        var m_ShowDiv = document.getElementById(m_ID);\r\n        //初始化\r\n        m_ShowDiv.innerHTML = ShowAll;\r\n\r\n        try {\r\n            m_ShowDiv.style.position = \"fixed\";\r\n            m_ShowDiv.style.bottom = 0;\r\n            m_ShowDiv.style.left = 0;\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n        //根据窗口设置宽度\r\n        _getFullModeWidth(m_ID);\r\n    };\r\n\r\n\r\n    /**\r\n     * 初始化各种点击事件\r\n     * @private\r\n     */\r\n    var _initDateClickFunc = function () {\r\n        //初始化时间\r\n        _self.TimeLineDate = new Date();\r\n        Year_Show = _self.TimeLineDate.getUTCFullYear();\r\n        Month_Show = _self.TimeLineDate.getUTCMonth() + 1;\r\n        Day_Show = _self.TimeLineDate.getUTCDate();\r\n        Hour_Show = _self.TimeLineDate.getUTCHours();\r\n        Minute_Show = _self.TimeLineDate.getUTCMinutes();\r\n\r\n        /*初始化点击事件*/\r\n        //年月日 加一 函数赋值\r\n        var m_btn_AddYear = document.getElementById(\"btn_AddYear\");\r\n        m_btn_AddYear.onclick = _addOneYear;\r\n        var btn_AddMonth = document.getElementById(\"btn_AddMonth\");\r\n        btn_AddMonth.onclick = _addOneMonth;\r\n        var btn_AddDay = document.getElementById(\"btn_AddDay\");\r\n        btn_AddDay.onclick = _addOneDay;\r\n\r\n        //年月日 减一 函数赋值\r\n        var btn_MinusYear = document.getElementById(\"btn_MinusYear\");\r\n        btn_MinusYear.onclick = _minusOneYear;\r\n        var btn_MinusMonth = document.getElementById(\"btn_MinusMonth\");\r\n        btn_MinusMonth.onclick = _minusOneMonth;\r\n        var btn_MinusDay = document.getElementById(\"btn_MinusDay\");\r\n        btn_MinusDay.onclick = _minusOneDay;\r\n\r\n        //初始化设置时间选择值 重新 赋值\r\n        document.getElementById('txt_Year').value = Year_Show.toString();\r\n        document.getElementById('txt_Month').value = Month_Show.toString();\r\n        document.getElementById('txt_Day').value = Day_Show.toString();\r\n\r\n\r\n        //设置点击事件\r\n        var m_btn_ShowYear = document.getElementsByClassName('btn_ShowYear');\r\n        for (var i = 0; i < m_btn_ShowYear.length; i++) {\r\n            m_btn_ShowYear[i].onclick = _showYearMode;\r\n        }\r\n\r\n        var m_btn_ShowMonth = document.getElementsByClassName('btn_ShowMonth');\r\n        for (var k = 0; k < m_btn_ShowMonth.length; k++) {\r\n            m_btn_ShowMonth[k].onclick = _showMonthMode;\r\n        }\r\n\r\n        var m_btn_ShowDay = document.getElementsByClassName('btn_ShowDay');\r\n        for (var j = 0; j < m_btn_ShowDay.length; j++) {\r\n            //    m_btn_ShowDay[j].onclick = _showDayMode;\r\n        }\r\n\r\n        var m_btn_ShowMinute = document.getElementsByClassName('btn_ShowMinute');\r\n        for (var w = 0; w < m_btn_ShowMinute.length; w++) {\r\n            //  m_btn_ShowMinute[w].onclick = _showMinuteMode;\r\n        }\r\n\r\n        //设置左右点击事件\r\n        //向左减一天\r\n        var btn_MinusDay_Left = document.getElementById(\"btn_BeforeTime\");\r\n        btn_MinusDay_Left.onclick = _minusOneDay;\r\n        //向右加一天\r\n        var btn_AddDay_Right = document.getElementById(\"btn_AfterTime\");\r\n        btn_AddDay_Right.onclick = _addOneDay;\r\n\r\n        //伸缩点击事件\r\n        var m_btn_ShowTimeLine = document.getElementById('ShowHidebtn');\r\n        m_btn_ShowTimeLine.onclick = _clickShowAndHide;\r\n        //调用初始化函数\r\n        _initTimeLineShow();\r\n    };\r\n\r\n    /**\r\n     * 初始化 显示TimeLine div\r\n     * @private\r\n     */\r\n    var  _initTimeLineShow = function () {\r\n        switch (_self.ShowMode) {\r\n            case \"Year_Mode\":\r\n            {\r\n                //  Year_SVGMove(0);\r\n                _showYearMode();\r\n                break;\r\n            }\r\n            case \"Month_Mode\":\r\n            {\r\n                // InitMonthTimeLineShow(2009);\r\n                _showMonthMode();\r\n                break;\r\n            }\r\n            case \"Day_Mode\":\r\n            {\r\n                Day_SVGMove(0);\r\n                ShowDayMode();\r\n                break;\r\n            }\r\n            case \"Minute_Mode\":\r\n            {\r\n\r\n                Minute_SVGMove(0);\r\n                ShowMinuteMode();\r\n                break;\r\n            }\r\n            default:\r\n            {\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 添加一年\r\n     * @private\r\n     */\r\n    var _addOneYear = function () {\r\n        var momentStr = (moment(self.TimeLineDate).add(1, 'year') - moment(self.TimeLineDate)) / 1000 / 3600 / 24;\r\n\r\n\r\n        //todo 添加 位移函数\r\n\r\n        _self.TimeLineDate = new Date(moment(self.TimeLineDate).add(1, 'year'));\r\n        _self.ShowModeClass.reSetDate(self.TimeLineDate);\r\n        _refreshTimeShow();\r\n    };\r\n\r\n    /**\r\n     * 添加一个月\r\n     * @private\r\n     */\r\n    var _addOneMonth = function () {\r\n        //    var momentStr = (  moment(self.TimeLineDate).add(1, 'month') - moment(self.TimeLineDate)) / 1000 / 3600 / 24;\r\n        _self.TimeLineDate = new Date(moment(_self.TimeLineDate).add(1, 'month'));\r\n\r\n        _refreshTimeShow();\r\n    };\r\n\r\n\r\n    /**\r\n     * 添加一天\r\n     * @private\r\n     */\r\n    var _addOneDay = function () {\r\n        //TimeLineDate  添加一天\r\n        _self.TimeLineDate = new Date(moment(_self.TimeLineDate).add(1, 'day'));\r\n        //重设位移值 年位移位置\r\n\r\n        //天模式\r\n        // m_Trans_Day = m_Trans_Day - 12.5;\r\n        //分钟位移位置 修改为1分钟模式\r\n        //  m_Trans_Minute = m_Trans_Minute - 12.5 * 60 * 24;\r\n        _refreshTimeShow();\r\n    };\r\n\r\n\r\n    /**\r\n     * 减一天\r\n     * @private\r\n     */\r\n    var _minusOneDay = function () {\r\n        _self.TimeLineDate = new Date(moment(_self.TimeLineDate).add(-1, 'day'));\r\n        //分钟模式\r\n        // m_Trans_Minute = m_Trans_Minute + 12.5 * 60 * 24;\r\n        //天模式\r\n        // m_Trans_Day = m_Trans_Day + 12.5;\r\n        _refreshTimeShow();\r\n    };\r\n\r\n\r\n    /**\r\n     * 整体显示 --属性新当前显示\r\n     * @private\r\n     */\r\n    var _refreshTimeShow = function () {\r\n        console.log('_refreshTimeShow');\r\n        //根据当前选择时间获取 年月日\r\n        Year_Show = _self.TimeLineDate.getUTCFullYear();\r\n        Month_Show = _self.TimeLineDate.getMonth() + 1;\r\n        Day_Show = _self.TimeLineDate.getDate();\r\n        Hour_Show = _self.TimeLineDate.getHours();\r\n        Minute_Show = _self.TimeLineDate.getMinutes();\r\n        //年月日赋值显示\r\n        document.getElementById('txt_Year').value = Year_Show.toString();\r\n        document.getElementById('txt_Month').value = Month_Show.toString();\r\n        document.getElementById('txt_Day').value = Day_Show.toString();\r\n        //调用数据修改函数 ，触发外部func\r\n        _self.DateTimeChange();\r\n    };\r\n\r\n\r\n    /**\r\n     * 减一个月\r\n     * @private\r\n     */\r\n    var _minusOneMonth = function () {\r\n        //  var momentStr = (moment(_self.TimeLineDate) - moment(_self.TimeLineDate).add(-1, 'month')) / 1000 / 3600 / 24;\r\n        _self.TimeLineDate = new Date(moment(_self.TimeLineDate).add(-1, 'month'));\r\n        //m_Trans_Minute = m_Trans_Minute + 12.5 * 24 * 60 * momentStr;\r\n\r\n\r\n        //天模式\r\n        //m_Trans_Day = m_Trans_Day + 12.5 * momentStr;\r\n        _refreshTimeShow();\r\n    };\r\n\r\n    /**\r\n     * 减一年\r\n     * @private\r\n     */\r\n    var _minusOneYear = function () {\r\n        //年份 的天\r\n        // var momentStr = (moment(self.TimeLineDate) - moment(self.TimeLineDate).add(-1, 'year')) / 1000 / 3600 / 24;\r\n\r\n        _self.TimeLineDate = new Date(moment.utc(self.TimeLineDate).add(-1, 'year'));\r\n        /*   //分钟模式\r\n         m_Trans_Minute = m_Trans_Minute + momentStr * 12.5 * 24 * 60;\r\n         //天模式\r\n         m_Trans_Day = m_Trans_Day + 12.5 * momentStr;*/\r\n        _refreshTimeShow();\r\n    };\r\n\r\n    /**\r\n     * 整体显示 --  点击按钮 伸缩界面 事件\r\n     * @private\r\n     */\r\n    var _clickShowAndHide = function () {\r\n        //获取TimeLine 部分的DIV\r\n        var ShowTimeLine = document.getElementsByClassName(\"TimeLineTotalDiv\");\r\n        //如果当前显示为全部\r\n        if (self.Is_ShowSVGLine) {\r\n            for (var i = 0; i < ShowTimeLine.length; i++) {\r\n                ShowTimeLine[i].style.display = \"none\";\r\n            }\r\n            _self.Is_ShowSVGLine = false;\r\n        } else {\r\n            //如果当前为压缩模式 修改为伸缩模式\r\n            for (var j = 0; j < ShowTimeLine.length; j++) {\r\n                ShowTimeLine[j].style.display = \"block\";\r\n            }\r\n            _self.Is_ShowSVGLine = true;\r\n            //伸长后重绘界面 重新计算\r\n            _getFullModeWidth(self.IDName);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 整体显示 --  显示年选择模式\r\n     * @private\r\n     */\r\n    var _showYearMode = function () {\r\n        console.log('_showYearMode');\r\n        var m_Show_YearDiv = document.getElementById(\"Show_YearDiv\");\r\n        var m_Show_MonthDiv = document.getElementById(\"Show_MonthDiv\");\r\n        var m_Show_DayDiv = document.getElementById(\"Show_DayDiv\");\r\n        var m_Show_MinuteDiv = document.getElementById(\"Show_MinuteDiv\");\r\n\r\n        m_Show_YearDiv.style.display = \"block\";\r\n        m_Show_MonthDiv.style.display = \"none\";\r\n        m_Show_DayDiv.style.display = \"none\";\r\n        m_Show_MinuteDiv.style.display = \"none\";\r\n\r\n        //年按钮可用\r\n        document.getElementById(\"btn_AddYear\").disabled = false;\r\n        document.getElementById(\"btn_MinusYear\").disabled = false;\r\n        //月日按钮不可用\r\n        document.getElementById(\"btn_AddMonth\").disabled = true;\r\n        document.getElementById(\"btn_MinusMonth\").disabled = true;\r\n        document.getElementById(\"btn_AddDay\").disabled = true;\r\n        document.getElementById(\"btn_MinusDay\").disabled = true;\r\n\r\n        //  _yearModeClass.mouseMoveFunc(0);\r\n        _self.ShowMode = \"Year_Mode\";\r\n        _self.ShowModeClass = _yearModeClass;\r\n        _self.ShowModeClass.init(_self.TimeLineDate, _self.LayerDataInfo, _onDataChangeFunc);\r\n    };\r\n\r\n\r\n    /**\r\n     * 整体显示 -- 显示月显示模式\r\n     * @private\r\n     */\r\n    var _showMonthMode = function () {\r\n\r\n        var m_Show_YearDiv = document.getElementById(\"Show_YearDiv\");\r\n        var m_Show_MonthDiv = document.getElementById(\"Show_MonthDiv\");\r\n        var m_Show_DayDiv = document.getElementById(\"Show_DayDiv\");\r\n        var m_Show_MinuteDiv = document.getElementById(\"Show_MinuteDiv\");\r\n\r\n        m_Show_YearDiv.style.display = \"none\";\r\n        m_Show_MonthDiv.style.display = \"block\";\r\n        m_Show_DayDiv.style.display = \"none\";\r\n        m_Show_MinuteDiv.style.display = \"none\";\r\n\r\n        //年月 按钮可用\r\n        document.getElementById(\"btn_AddYear\").disabled = false;\r\n        document.getElementById(\"btn_MinusYear\").disabled = false;\r\n        document.getElementById(\"btn_AddMonth\").disabled = false;\r\n        document.getElementById(\"btn_MinusMonth\").disabled = false;\r\n        //日按钮不可用\r\n        document.getElementById(\"btn_AddDay\").disabled = true;\r\n        document.getElementById(\"btn_MinusDay\").disabled = true;\r\n        _self.ShowMode = \"Month_Mode\";\r\n        //计算 差值 每一年 差值150\r\n        _self.ShowModeClass = _monthModeClass;\r\n        _self.ShowModeClass.init(_self.TimeLineDate, _self.LayerDataInfo);\r\n    };\r\n\r\n\r\n    /**\r\n     *\r\n     * @param newDate\r\n     * @private\r\n     */\r\n    var _onDataChangeFunc = function (newDate) {\r\n        console.log('_onDataChangeFunc');\r\n        _self.TimeLineDate = newDate;\r\n        _refreshTimeShow();\r\n    };\r\n\r\n\r\n    /**\r\n     *\r\n     * @type {TimeLine.AddMinuteData}\r\n     */\r\n    _self.AddYearData = _self.AddMonthData = _self.AddDayData = _self.AddMinuteData = function (m_InsertData) {\r\n        //调用最新的重构函数\r\n        _addLayerInfoData(m_InsertData);\r\n    };\r\n\r\n\r\n    var _addLayerInfoData = function (insertData) {\r\n\r\n        var LengthAddCount = insertData.length;\r\n        //对于每一个添加的变量\r\n        if (LengthAddCount) {\r\n            for (var i = 0; i < LengthAddCount; i++) {\r\n                var m_ADDItem = insertData[i];\r\n                _self.LayerDataInfo.push(m_ADDItem);\r\n            }\r\n        }\r\n        _self.ShowModeClass.reSetDataInfo(_self.LayerDataInfo);\r\n    }\r\n};\r\nvar YearModeClass = function () {\r\n    //绘制年 的计数\r\n    var _self = this;\r\n    _self.ClassDate = new Date();\r\n\r\n    var Trans_YearPix = 50;\r\n    var isMove_Year = false;\r\n\r\n    //鼠标 X 当前位置和 前一个位置\r\n    var x_Year = 0;\r\n    var X_Before_Year = 0;\r\n\r\n    var YearDataInfo = [];\r\n\r\n    /**\r\n     *\r\n     * @param dateSt\r\n     * @private\r\n     */\r\n    var _init = function (dateStr, DataIndfo, onChangeFunc) {\r\n        console.log(\"year init\");\r\n        _self.ClassDate = dateStr;\r\n        YearDataInfo = DataIndfo;\r\n\r\n        _mouseMove_Year_Func(0);\r\n        _initMouseMove();\r\n        _self.onchange = onChangeFunc;\r\n        //  _mouseMove_Year(0);\r\n    };\r\n\r\n    function _initMouseMove() {\r\n        var m_ShowTimeLineDiv_Year = document.getElementById(\"ShowTimeLineDiv_Year\");\r\n        m_ShowTimeLineDiv_Year.onmousedown = _getMouseDown_Year;\r\n        m_ShowTimeLineDiv_Year.onmouseup = _getMouseUP_Year;\r\n        m_ShowTimeLineDiv_Year.onmouseout = _getMouseOut_Year;\r\n        m_ShowTimeLineDiv_Year.onmousemove = _mouseMove_Year;\r\n    }\r\n\r\n\r\n    /**\r\n     * 年模式 鼠标左键按下\r\n     * @param event\r\n     * @private\r\n     */\r\n    var _getMouseDown_Year = function (event) {\r\n        isMove_Year = true;\r\n        event = event || window.event;\r\n        x_Year = event.clientX;\r\n        X_Before_Year = x_Year;\r\n    };\r\n\r\n\r\n    /**\r\n     * 年模式--鼠标左键抬起\r\n     * @param event\r\n     * @private\r\n     */\r\n    var _getMouseUP_Year = function (event) {\r\n        event = event || window.event;\r\n        isMove_Year = false;\r\n        x_Year = event.clientX;\r\n        //X_Before_Year = x_Year;\r\n    };\r\n\r\n    /**\r\n     * 年模式 --鼠标移出DIV\r\n     * @private\r\n     */\r\n    var _getMouseOut_Year = function () {\r\n        if (_self.browserType !== \"Firefox\" && _self.browserType !== 'Edge') {\r\n            isMove_Year = false;\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * 年模式 --鼠标移动事件\r\n     * @param evt\r\n     * @private\r\n     */\r\n    var _mouseMove_Year = function (evt) {\r\n        if (isMove_Year) {\r\n            evt = evt || window.event;\r\n            x_Year = evt.clientX;\r\n            var DrgNum = X_Before_Year - x_Year;\r\n\r\n            X_Before_Year = x_Year;\r\n            if (DrgNum >= 2 || DrgNum <= -2) {\r\n                _mouseMove_Year_Func(DrgNum);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * 年模式 -- 位移事件\r\n     * @param transform 位移位置\r\n     * @private\r\n     */\r\n    var _mouseMove_Year_Func = function (transform) {\r\n        //计算当前最新位移\r\n        Trans_YearPix = Trans_YearPix - transform;\r\n        //获取遍历赋值的局部位移 初始量\r\n        var Trans_now = Trans_YearPix;\r\n        //获取年时间轴的DIV\r\n        var m_ShowSVG_Year = document.getElementById(\"SVG_Year_Total\");\r\n        //初始化比较字符串\r\n        var TimeLineDate_YearStr = moment(_self.ClassDate).format('YYYY');\r\n        //总SVG Label\r\n        var YearTotal = '<g id=\"ShowSVG_Year\" transform=\"translate(' + Trans_now + ',10)\" class=\"x aixs\">';\r\n        //初始化年份 1980\r\n        var YearInit = moment(new Date(1980, 0, 1)).year();\r\n        //循环绘制 年模块\r\n        for (var j = 0; j < YearShowCount; j++) {\r\n            var TimeGar = '';\r\n            var TransMode = (j * 250).toString();\r\n            //年模块SVG\r\n            var YearShow = '<g class=\"tick_Total_Year\" transform=\"translate(' + TransMode + ')\">'\r\n                + '<line x1=\"0\" x2=\"0\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>';\r\n            for (var i = 0; i < 10; i++) {\r\n                var YearClick = YearInit + i;\r\n                var Trans = (i * 25).toString();\r\n                //若当前年时间为选择时间 则加入guitarpick指示当前时间\r\n                //\r\n                if (TimeLineDate_YearStr.toString() === YearClick.toString()) {\r\n                    console.log(TimeLineDate_YearStr + ':' + YearClick);\r\n                    TimeGar = '<g id=\"guitarpick\" class=\"SVG_guitarpick\"  '\r\n                        + ' transform=\"translate(' + (Trans - 3) + ',-10)\">'\r\n                        + '<title>' + YearClick + '</title>'\r\n                        + '<path d=\"'\r\n                        + 'M3.658 0.743C1.775 0.743 0.25 3.793 0.25 7.555l0 21.272l7.302 15.711l7.302 15.711l7.302 -15.711l7.302 -15.711l0 -21.272c0 -3.763 -1.526 -6.813 -3.408 -6.813l-22.392 0z'\r\n                        + '\"></path>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"9\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"14\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"19\" y=\"11\" ></rect>'\r\n                        + '</g>';\r\n                }\r\n                YearShow = YearShow + TimeGar;\r\n\r\n                //通过当前时间 绘制背景的数据svg\r\n                var SVG_Data = _getYearMode_DataShowList(YearClick, Trans);\r\n\r\n                var IsTitle = \"\";\r\n                //IE状态下对年Title进行缩放\r\n                if (_self.browserType !== \"MSIE\") {\r\n                    IsTitle = '<title>' + YearClick + '</title>';\r\n                }\r\n                //绘制基础的年模块部分\r\n                var oneYear = '<g class=\"tick_Year_One\" transform=\"translate(' + Trans + ')\">'\r\n                    + '<rect class=\"DayRect Btn_YearRect\" x=\"0.2\" y=\"0\" width=\"25\" height=\"55\" value=\"' + YearClick + '\"  >'\r\n                    + IsTitle\r\n                    + '</rect>'\r\n                    + '<line class=\"tick_dot\" x1=\"24\" x2=\"24\" y1=\"0\" y2=\"52\"></line>'\r\n                    + '</g>';\r\n                YearShow = YearShow + SVG_Data + oneYear;\r\n            }\r\n            var Right = '<g transform=\"translate(0)\">'\r\n                + '<rect x=\"0\" y=\"55\" width=\"250\" height=\"25\" class=\"Rect_White\" value=\"' + YearInit + '\"/>'\r\n                + '<text x=\"12\" y=\"73\" class=\"Month_Text_Show\">' + YearInit + '</text>'\r\n                + '</g>'\r\n                + '<g>'\r\n                + '<circle cx=\"0\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '<circle cx=\"250\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '</g>'\r\n                + '<line x1=\"250\" x2=\"250\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>'\r\n                + '</g>';\r\n            YearShow = YearShow + TimeGar + Right;\r\n            YearTotal = YearTotal + YearShow;\r\n            //添加10年\r\n            YearInit = YearInit + 10;\r\n        }\r\n        YearTotal = YearTotal\r\n            + '</g>'\r\n                // '<line x1=\"0\" x2=\"1500\" y1=\"65\" y2=\"65\" class=\"tick_Line\"></line>'\r\n            + '</g>';\r\n        //IE处理\r\n        if (_self.browserType !== \"MSIE\") {\r\n            m_ShowSVG_Year.innerHTML = YearTotal;\r\n            $(\"#SVG_Year_Total\").html(YearTotal);\r\n        } else {\r\n            $(\"#SVG_Year_Total\").html(YearTotal);\r\n        }\r\n\r\n        var m_Btn_YearRectList = document.getElementsByClassName('Btn_YearRect');\r\n        for (var w = 0; w < m_Btn_YearRectList.length; w++) {\r\n            m_Btn_YearRectList[w].onclick = function () {\r\n                _btnClickGetYear(this);\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 年模式 -- 点击事件\r\n     * @param event\r\n     */\r\n    var _btnClickGetYear = function (event) {\r\n        //  console.log('new Data ' + _self.ClassDate);\r\n        //调用设置年函数\r\n        var clickDate = new Date(event.getAttribute(\"value\"));\r\n        var _Year = clickDate.getFullYear();\r\n        if (_Year) {\r\n            var Year_Show = parseInt(_Year).toString();\r\n            var Month_Show = _self.ClassDate.getUTCMonth() + 1;\r\n            var Day_Show = _self.ClassDate.getUTCDate();\r\n            var Hour_Show = _self.ClassDate.getUTCHours();\r\n            var Minute_Show = _self.ClassDate.getUTCMinutes();\r\n            _self.ClassDate = new Date(Year_Show, Month_Show - 1, Day_Show, Hour_Show, Minute_Show, 0);\r\n            console.log('new Data ' + _self.ClassDate);\r\n            _mouseMove_Year_Func(0);\r\n            _self.onchange(_self.ClassDate);\r\n            return _self.ClassDate;\r\n        } else {\r\n            return _self.ClassDate;\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * 年模式 -- 获取月模式的数据显示SVG 内容函数 输入传入的年时间和当前年时间的位移\r\n     * @param Show_YearDate\r\n     * @param ShowTransLate\r\n     * @returns {*}\r\n     * @private\r\n     */\r\n    var _getYearMode_DataShowList = function (Show_YearDate, ShowTransLate) {\r\n        Show_YearDate = Show_YearDate.toString();\r\n        //若数据长度为0 则返回空\r\n        if (YearDataInfo.length === 0 || !YearDataInfo.length) {\r\n            return '';\r\n        }\r\n        //数据整体svg\r\n        var ShowLayer_DataSVG = '<g style=\"width: 12px;height: 40px;fill:#5F5F01\" class=\"tick_Data_Show\"'\r\n            + ' transform=\"translate(' + ShowTransLate + ')\">';\r\n        //日期格式赋值\r\n\r\n        //是否显示列表\r\n        var IsDataShowList = [];\r\n        var DataMomentBegin = moment.utc(Show_YearDate);\r\n        var DataMomentEnd = moment.utc(Show_YearDate).add(1.0, 'year');\r\n        var TimeSpace = DataMomentEnd - DataMomentBegin;\r\n        IsDataShowList = _checkDataTimeExistStatus(DataMomentBegin, DataMomentEnd, TimeSpace);\r\n\r\n        //判定是否有数据条填充 若无填充 则返回空值\r\n        var IS_ShowTag = false;\r\n\r\n        var rect_Height = Math.round(40 / YearDataInfo.length, 2);\r\n        if (rect_Height > 10) {\r\n            rect_Height = 10;\r\n        }\r\n        for (var i = 0; i < YearDataInfo.length; i++) {\r\n            var DateRect = '';\r\n            var Rect_Y = i * rect_Height;\r\n            //生成RECT 样式\r\n            if (IsDataShowList[i].isExist === true) {\r\n                //获取当前图层是否显示信息\r\n                var Ishow = IsDataShowList[i].isShow;\r\n                var RectLineEnd = Rect_Y + rect_Height - 0.4;\r\n                //根据显示情况\r\n                if (Ishow) {\r\n                    IS_ShowTag = true;\r\n                    //若该图层显示 则为蓝色\r\n                    DateRect = '<rect class=\"Rect_Data_Show\" x=\"0\" y=\"' + Rect_Y + '\" width=\"25\" height=\"' + rect_Height + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"25\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"25\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                } else {\r\n                    IS_ShowTag = true;\r\n                    //不显示则为灰色\r\n                    DateRect = '<rect class=\"Rect_Data_Hide\" x=\"0\" y=\"' + Rect_Y + '\" width=\"25\" height=\"' + rect_Height + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"25\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"25\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                }\r\n            } else {\r\n                //若没有数据 则为空\r\n                DateRect = '';\r\n            }\r\n            //组成矩阵\r\n            ShowLayer_DataSVG = ShowLayer_DataSVG + DateRect;\r\n        }\r\n        ShowLayer_DataSVG = ShowLayer_DataSVG + '</g>';\r\n        if (IS_ShowTag === false) {\r\n            ShowLayer_DataSVG = '';\r\n        }\r\n        return ShowLayer_DataSVG;\r\n    };\r\n\r\n\r\n    /**\r\n     * 根据当前数据 获取存在状态\r\n     * @param BeginTime_moment\r\n     * @param EndTimeStr_moment\r\n     * @param MinuteTimeBase\r\n     * @returns {*[]}\r\n     * @private\r\n     */\r\n    var _checkDataTimeExistStatus = function (BeginTime_moment, EndTimeStr_moment, MinuteTimeBase) {\r\n        //\r\n        // MinuteTimeBase = 1000 * 60;\r\n        //MinuteTimeBase = MinuteTimeBase;\r\n        var TimeCompare_begin = BeginTime_moment;\r\n\r\n        var TimeCompare_end = EndTimeStr_moment;\r\n        //根据不用模式对 当前开始结束时间 进行比较、\r\n\r\n        //根据当前的 timeStr 对是否存在数据进行返回\r\n        var ShowModeWidth = 12.5;\r\n        //返回一个 n维数组\r\n        var ExistReturn = [{\r\n            \"isExist\": true,\r\n            \"isShow\": true,\r\n            \"Width\": \"\",\r\n            \"isBofore\": \"\",\r\n            \"isEnd\": \"\"\r\n        }, {\"isExist\": true, \"isShow\": true, \"Width\": 0, \"isBofore\": \"\", \"isEnd\": \"\"}];\r\n        ExistReturn = [];\r\n        //处理JSON\r\n        YearDataInfo.forEach(function (DataJsonItem) {\r\n            var ExistReturnItem = {\r\n                \"isExist\": false,\r\n                \"isShow\": false,\r\n                \"Width\": 0,\r\n                \"isAll\": false,\r\n                \"isBofore\": false,\r\n                \"isEnd\": false\r\n            };\r\n            var DataInfo = DataJsonItem.DataInfo;\r\n            if (DataInfo.length > 0) {\r\n                //遍历每一个时段 对 当前时间段内的数据存在进行查找。\r\n                DataInfo.forEach(function (DataTimeItem) {\r\n                    var BeginTime = moment.utc(DataTimeItem.BeginTime);\r\n                    var EndTime = moment.utc(DataTimeItem.EndTime);\r\n\r\n                    //存在数据时间 完全包含 数据存在字段 |11|\r\n                    if (BeginTime - TimeCompare_begin > 0 && TimeCompare_end - EndTime > 0) {\r\n                        ExistReturnItem.Width = BeginTime - EndTime / MinuteTimeBase * ShowModeWidth;\r\n                        ExistReturnItem.isExist = true;\r\n                        ExistReturnItem.Width = ShowModeWidth;\r\n                        ExistReturnItem.isAll = true;\r\n                    }\r\n\r\n                    //当前时间 在范围内 1||1\r\n                    if (TimeCompare_begin - BeginTime > 0 && EndTime - TimeCompare_end > 0) {\r\n                        ExistReturnItem.isExist = true;\r\n                        ExistReturnItem.Width = ShowModeWidth;\r\n                        ExistReturnItem.isAll = true;\r\n                    }\r\n                    //时间段 前半段 |1|1\r\n                    if (EndTime - TimeCompare_begin > 0 && TimeCompare_end - EndTime > 0) {\r\n                        ExistReturnItem.isExist = true;\r\n                        var WitdhBefore = (EndTime - TimeCompare_begin) / MinuteTimeBase * ShowModeWidth;\r\n                        ExistReturnItem.Width = WitdhBefore;\r\n                        ExistReturnItem.isAll = false;\r\n                        ExistReturnItem.isBofore = true;\r\n                    }\r\n                    //时间段  后半段 1|1|\r\n                    if (BeginTime - TimeCompare_begin > 0 && TimeCompare_end - BeginTime > 0) {\r\n                        ExistReturnItem.isExist = true;\r\n                        var WitdhAfter = (BeginTime - TimeCompare_end) / MinuteTimeBase * ShowModeWidth;\r\n                        ExistReturnItem.Width = WitdhAfter;\r\n                        ExistReturnItem.isAll = false;\r\n                        ExistReturnItem.isEnd = true;\r\n                    }\r\n\r\n                });\r\n            }\r\n            //设置查找\r\n            ExistReturnItem.isShow = DataJsonItem.Layeris_Show;\r\n            ExistReturn.push(ExistReturnItem);\r\n        });\r\n        return ExistReturn;\r\n    };\r\n\r\n    /**\r\n     *  设置为新时间\r\n     * @param newDate\r\n     * @private\r\n     */\r\n    var _reSetDate = function (newDate) {\r\n        _self.ClassDate = newDate;\r\n        var trans = parseInt(moment.utc(newDate).format(\"YYYY\")) - parseInt(moment.utc(newDate).format(\"YYYY\"));\r\n        var transPix = trans * 12.5;\r\n        _mouseMove_Year(transPix);\r\n    };\r\n\r\n    var _reSetDataInfo = function (newDataInfo) {\r\n        YearDataInfo = newDataInfo;\r\n        _mouseMove_Year_Func(0);\r\n    };\r\n\r\n\r\n    _self.init = _init;\r\n    // _self.onchange = onchangeFunc;\r\n    _self.reSetDate = _reSetDate;\r\n    _self.mouseMoveFunc = _mouseMove_Year;\r\n    _self.reSetDataInfo = _reSetDataInfo;\r\n    return _self\r\n};\r\n\r\nvar MonthModeClass = function () {\r\n    var _self = this;\r\n    _self.ClassDate = new Date();\r\n    /* 月模式 鼠标 操作 变量*/\r\n    var isMove_Month = false;\r\n    var x_Month = 0;\r\n    var x_Before_Month = 0;\r\n    var m_Trans_Month = -150;\r\n\r\n\r\n    /**\r\n     * 根据 年月日 和 数据项初始化\r\n     * @param dateStr\r\n     * @param DataInfo\r\n     * @private\r\n     */\r\n    var _init = function (dateStr, DataInfo) {\r\n        _self.ClassDate = dateStr;\r\n        _getMouseMove_MonthFunc(0);\r\n        _initMouseMove();\r\n    };\r\n\r\n\r\n    /**\r\n     * 设置DIV移动事件\r\n     * @private\r\n     */\r\n    var _initMouseMove = function () {\r\n        console.log('_initMouseMove');\r\n        var m_ShowTimeLineDiv_Year = document.getElementById(\"ShowTimeLineDiv_Year\");\r\n        m_ShowTimeLineDiv_Year.onmousedown = _getMouseDown_Month;\r\n        m_ShowTimeLineDiv_Year.onmouseup = _getMouseUP_Month;\r\n        m_ShowTimeLineDiv_Year.onmouseout = _getMouseOut_Month;\r\n        m_ShowTimeLineDiv_Year.onmousemove = _getMouseMove_Month;\r\n    };\r\n\r\n    /**\r\n     * 月模式 -- 鼠标down事件\r\n     * @param event\r\n     * @private\r\n     */\r\n    var _getMouseDown_Month = function (event) {\r\n        event = event || window.event;\r\n        x_Month = event.clientX;\r\n        x_Before_Month = x_Month;\r\n        isMove_Month = true;\r\n    };\r\n\r\n    /**\r\n     * 月模式 -- 鼠标抬起事件\r\n     * @param event\r\n     * @private\r\n     */\r\n    var _getMouseUP_Month = function (event) {\r\n        isMove_Month = false;\r\n    };\r\n\r\n\r\n    /**\r\n     * 月模式 -- 鼠标移出事件\r\n     * @param event\r\n     * @private\r\n     */\r\n    var _getMouseOut_Month = function (event) {\r\n        if (self.browserType !== \"Firefox\" && self.browserType !== 'Edge') {\r\n            isMove_Month = false;\r\n        }\r\n    };\r\n    /**\r\n     * 月模式 -- 鼠标移动事件\r\n     * @param event\r\n     * @private\r\n     */\r\n    var _getMouseMove_Month = function (event) {\r\n        event = event || window.event;\r\n        if (isMove_Month) {\r\n            x_Month = event.clientX;\r\n            var DrgNum = x_Before_Month - x_Month;\r\n            if (DrgNum >= 1 || DrgNum <= -1) {\r\n                x_Before_Month = x_Month;\r\n                _getMouseMove_MonthFunc(DrgNum);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     *\r\n     * @param tarnsform\r\n     * @private\r\n     */\r\n    var _getMouseMove_MonthFunc = function (tarnsform) {\r\n        console.log('_getMouseMove_MonthFunc');\r\n        var MonthBegin_Date = moment.utc(_self.ClassDate).add(-3.0, \"years\");\r\n        //获取 月模式下 SVG的DIV\r\n        var m_ShowSVG = document.getElementById(\"ShowSVG\");\r\n        //循环添加\r\n        var InnerSvgTotal = \"\";\r\n        m_Trans_Month = m_Trans_Month - tarnsform;\r\n        while (m_Trans_Month > 0) {\r\n            MonthBegin_Date = new Date(moment(MonthBegin_Date).add(-1.0, 'year'));\r\n            m_Trans_Month = m_Trans_Month - 12.5 * 12;\r\n        }\r\n        while (m_Trans_Month < -150) {\r\n            MonthBegin_Date = new Date(moment(MonthBegin_Date).add(1.0, 'year'));\r\n            m_Trans_Month = m_Trans_Month + 12.5 * 12;\r\n        }\r\n        var m_BeginYear = moment(MonthBegin_Date).year();\r\n        //获取当前选择时间的月份 STR 用于Title显示\r\n        var TimeShowStr_Month = moment(self.DateShow).format(\"YYYY-M\");\r\n        // 月循环 MonthShowCount\r\n        for (var i = 0; i < MonthShowCount; i++) {\r\n            var TimeGar = \"\";\r\n            var TimeStr = (m_BeginYear + i).toString();\r\n            var Trans = i * 150 + m_Trans_Month - 150;\r\n            var InnerSvg = '<g class=\"tick_Total_Year\" Tag=\"' + TimeStr + '\" transform=\"translate(' + Trans + ')\">'\r\n                + '<line x1=\"0\" x2=\"0\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>';\r\n            //月份循环\r\n            for (var Month = 0; Month < 12; Month++) {\r\n                var TransMonth = Month * 12.5;\r\n                var ShowDateStr = TimeStr + \"-\" + ( Month + 1);\r\n                var MonthData_Svg = \"\";\r\n\r\n                //调用函数 返回当前单位是否需要显示数据\r\n                MonthData_Svg = _getMothMode_DataShowList(ShowDateStr, TransMonth);\r\n\r\n                var MonthSVG = '<g class=\"tick_Year_One\" transform=\"translate(' + TransMonth + ')\">'\r\n                    + '<rect x=\"0.2\" y=\"0\" width=\"12.5\" height=\"55\" class=\"DayRect Btn_MonthRect\" value=\"' + ShowDateStr + '\">'\r\n                    + '<title>' + ShowDateStr + '</title>'\r\n                    + '</rect>'\r\n                    + '<line class=\"tick_dot\" x1=\"12\" x2=\"12\" y1=\"0\" y2=\"52\"></line>'\r\n                    + '</g>';\r\n\r\n                if (TimeShowStr_Month === ShowDateStr) {\r\n                    TimeGar = '<g id=\"guitarpick\" class=\"SVG_guitarpick\"'\r\n                        + ' transform=\"translate(' + (Trans + TransMonth - 10) + ',-10)\">'\r\n                        + '<title>' + ShowDateStr + '</title>'\r\n                        + '<path d=\"'\r\n                        + 'M3.658 0.743C1.775 0.743 0.25 3.793 0.25 7.555l0 21.272l7.302 15.711l7.302 15.711l7.302 -15.711l7.302 -15.711l0 -21.272c0 -3.763 -1.526 -6.813 -3.408 -6.813l-22.392 0z'\r\n                        + '\"></path>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"9\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"14\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"19\" y=\"11\" ></rect>'\r\n                        + '</g>';\r\n                    // MonthSVG = MonthSVG + TimeGar;\r\n                }\r\n\r\n                InnerSvg = InnerSvg + MonthData_Svg + MonthSVG;\r\n            }\r\n\r\n            InnerSvg = InnerSvg + '<g transform=\"translate(0)\">'\r\n                + '<rect x=\"0\" y=\"55\" width=\"150\" height=\"25\"  class=\"Rect_White\"/>'\r\n                + '<text x=\"12\" y=\"73\" class=\"Month_Text_Show\" >' + TimeStr + '年</text>'\r\n                + '</g>'\r\n                + '<g>'\r\n                + '<circle cx=\"0\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '<circle cx=\"150\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '</g>'\r\n                + '<line x1=\"150\" x2=\"150\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>'\r\n                + '</g>'\r\n                + '</g>';\r\n            InnerSvgTotal = InnerSvgTotal + InnerSvg + TimeGar;\r\n        }\r\n\r\n        m_ShowSVG.innerHTML = InnerSvgTotal;\r\n        //IE处理\r\n        if (self.browserType !== \"MSIE\") {\r\n            m_ShowSVG.innerHTML = InnerSvgTotal;\r\n        } else {\r\n            // console.log(\"IE innerHTML\");\r\n            $(\"#ShowSVG\").html(InnerSvgTotal);\r\n        }\r\n        //绑定点击事件\r\n        var m_MonthRectList = document.getElementsByClassName(\"Btn_MonthRect\");\r\n        for (var i = 0; i < m_MonthRectList.length; i++) {\r\n            m_MonthRectList[i].onclick = function () {\r\n                _btnClickMonth(this);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * 设置年月  函数\r\n     * @param enevt\r\n     * @returns {Date|*}\r\n     * @private\r\n     */\r\n    var _btnClickMonth = function (enevt) {\r\n        var TimeStr = enevt.getAttribute(\"value\");\r\n        var new_Year = TimeStr.split(\"-\")[0];\r\n        var new_Month = TimeStr.split(\"-\")[1];\r\n\r\n        if (new_Year && new_Month) {\r\n            var Day_Show = _self.ClassDate.getUTCDate();\r\n            var Hour_Show = _self.ClassDate.getUTCHours();\r\n            var Minute_Show = _self.ClassDate.getUTCMinutes();\r\n\r\n            var Year_Show = parseInt(new_Year).toString();\r\n            var Month_Show = parseInt(new_Month).toString();\r\n            //设置年月日\r\n            _self.ClassDate = new Date(Year_Show, Month_Show - 1, Day_Show, Hour_Show, Minute_Show, 0);\r\n            // RefreshTimeShow();\r\n            console.log('new DateMonth :' + _self.ClassDate);\r\n            _getMouseMove_MonthFunc(0);\r\n            return _self.ClassDate;\r\n        } else {\r\n            return _self.ClassDate;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 月模式 -- 获取月模式的数据显示SVG 内容函数\r\n     * @param Show_MonthDate\r\n     * @param ShowTransLate 位移数据\r\n     * @returns {*}\r\n     * @constructor\r\n     */\r\n    var _getMothMode_DataShowList = function (Show_MonthDate, ShowTransLate) {\r\n\r\n        if (!_self.DataInfo || !_self.DataInfo.length) {\r\n            return \"\";\r\n        }\r\n        var ShowLayer_DataSVG = '<g style=\"width: 12px;height: 40px;fill:#5F5F01\" class=\"tick_Data_Show\"'\r\n            + ' transform=\"translate(' + ShowTransLate + ')\">';\r\n\r\n        //日期格式赋值\r\n        var Date_Rect = Show_MonthDate;\r\n        //是否显示列表\r\n        var IsDataShowList = [];\r\n        var DataMomentBegin = moment.utc(Show_MonthDate);\r\n        var DataMomentEnd = moment.utc(Show_MonthDate).add(1.0, 'month');\r\n        var TimeSpace = DataMomentEnd - DataMomentBegin;\r\n        IsDataShowList = _checkDataTimeExistStatus(DataMomentBegin, DataMomentEnd, TimeSpace);\r\n\r\n        //查找是否存在数据\r\n        /*  for (var k = 0; k < IsDataShowList.length; k++) {\r\n         var is_ShowTag = false;\r\n         var m_DataInfo_i = IsDataShowList[k];\r\n         IsDataShowList.push(m_DataInfo_i);\r\n         }*/\r\n\r\n        //生成基于 数据的是否显示Ture False 列表　使用列表初始化显示\r\n        var rect_Height = Math.round(40 / m_MonthModeData.length, 2);\r\n\r\n        if (rect_Height > 10) {\r\n            rect_Height = 10;\r\n        }\r\n        var Rect_ShowHeight = rect_Height - 0.8;\r\n        //遍历获取\r\n        for (var i = 0; i < IsDataShowList.length; i++) {\r\n            var DateRect = '';\r\n            var Rect_Y = i * rect_Height;\r\n            //生成RECT 样式\r\n            if (IsDataShowList[i].isExist === true) {\r\n                //获取当前图层是否显示信息\r\n                var IsData_show = IsDataShowList[i].isShow;\r\n                var RectLineEnd = Rect_Y + rect_Height - 0.2;\r\n                //根据显示情况\r\n                if (IsData_show) {\r\n                    //若该图层显示 则为蓝色\r\n                    DateRect = '<rect class=\"Rect_Data_Show\" x=\"0\" y=\"' + Rect_Y + '\" width=\"12.5\" height=\"' + Rect_ShowHeight + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                } else {\r\n                    //有数据 但是当前列 不显示 则为灰色\r\n                    DateRect = '<rect class=\"Rect_Data_Hide\" x=\"0\" y=\"' + Rect_Y + '\" width=\"12.5\" height=\"' + Rect_ShowHeight + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                }\r\n            } else {\r\n                //若没有数据 则为\r\n                DateRect = '';\r\n            }\r\n            //组成矩阵\r\n            ShowLayer_DataSVG = ShowLayer_DataSVG + DateRect;\r\n        }\r\n        ShowLayer_DataSVG = ShowLayer_DataSVG + '</g>';\r\n\r\n        return ShowLayer_DataSVG;\r\n    };\r\n\r\n\r\n    /**\r\n     * 根据当前数据 获取存在状态\r\n     * @param BeginTime_moment\r\n     * @param EndTimeStr_moment\r\n     * @param MinuteTimeBase\r\n     * @returns {*[]}\r\n     * @private\r\n     */\r\n    var _checkDataTimeExistStatus = function (BeginTime_moment, EndTimeStr_moment, MinuteTimeBase) {\r\n        //\r\n        // MinuteTimeBase = 1000 * 60;\r\n        //MinuteTimeBase = MinuteTimeBase;\r\n        var TimeCompare_begin = BeginTime_moment;\r\n\r\n        var TimeCompare_end = EndTimeStr_moment;\r\n        //根据不用模式对 当前开始结束时间 进行比较、\r\n\r\n        //根据当前的 timeStr 对是否存在数据进行返回\r\n        var ShowModeWidth = 12.5;\r\n        //返回一个 n维数组\r\n        var ExistReturn = [{\r\n            \"isExist\": true,\r\n            \"isShow\": true,\r\n            \"Width\": \"\",\r\n            \"isBofore\": \"\",\r\n            \"isEnd\": \"\"\r\n        }, {\"isExist\": true, \"isShow\": true, \"Width\": 0, \"isBofore\": \"\", \"isEnd\": \"\"}];\r\n        ExistReturn = [];\r\n        //处理JSON\r\n        YearDataInfo.forEach(function (DataJsonItem) {\r\n            var ExistReturnItem = {\r\n                \"isExist\": false,\r\n                \"isShow\": false,\r\n                \"Width\": 0,\r\n                \"isAll\": false,\r\n                \"isBofore\": false,\r\n                \"isEnd\": false\r\n            };\r\n            var DataInfo = DataJsonItem.DataInfo;\r\n            if (DataInfo.length > 0) {\r\n                //遍历每一个时段 对 当前时间段内的数据存在进行查找。\r\n                DataInfo.forEach(function (DataTimeItem) {\r\n                    var BeginTime = moment.utc(DataTimeItem.BeginTime);\r\n                    var EndTime = moment.utc(DataTimeItem.EndTime);\r\n\r\n                    //存在数据时间 完全包含 数据存在字段 |11|\r\n                    if (BeginTime - TimeCompare_begin > 0 && TimeCompare_end - EndTime > 0) {\r\n                        ExistReturnItem.Width = BeginTime - EndTime / MinuteTimeBase * ShowModeWidth;\r\n                        ExistReturnItem.isExist = true;\r\n                        ExistReturnItem.Width = ShowModeWidth;\r\n                        ExistReturnItem.isAll = true;\r\n                    }\r\n\r\n                    //当前时间 在范围内 1||1\r\n                    if (TimeCompare_begin - BeginTime > 0 && EndTime - TimeCompare_end > 0) {\r\n                        ExistReturnItem.isExist = true;\r\n                        ExistReturnItem.Width = ShowModeWidth;\r\n                        ExistReturnItem.isAll = true;\r\n                    }\r\n                    //时间段 前半段 |1|1\r\n                    if (EndTime - TimeCompare_begin > 0 && TimeCompare_end - EndTime > 0) {\r\n                        ExistReturnItem.isExist = true;\r\n                        var WitdhBefore = (EndTime - TimeCompare_begin) / MinuteTimeBase * ShowModeWidth;\r\n                        ExistReturnItem.Width = WitdhBefore;\r\n                        ExistReturnItem.isAll = false;\r\n                        ExistReturnItem.isBofore = true;\r\n                    }\r\n                    //时间段  后半段 1|1|\r\n                    if (BeginTime - TimeCompare_begin > 0 && TimeCompare_end - BeginTime > 0) {\r\n                        ExistReturnItem.isExist = true;\r\n                        var WitdhAfter = (BeginTime - TimeCompare_end) / MinuteTimeBase * ShowModeWidth;\r\n                        ExistReturnItem.Width = WitdhAfter;\r\n                        ExistReturnItem.isAll = false;\r\n                        ExistReturnItem.isEnd = true;\r\n                    }\r\n\r\n                });\r\n            }\r\n            //设置查找\r\n            ExistReturnItem.isShow = DataJsonItem.Layeris_Show;\r\n            ExistReturn.push(ExistReturnItem);\r\n        });\r\n        return ExistReturn;\r\n    };\r\n\r\n    /**\r\n     *  设置为新时间\r\n     * @param newDate\r\n     * @private\r\n     */\r\n    var _reSetDate = function (newDate) {\r\n        _self.ClassDate = newDate;\r\n        var trans = parseInt(moment.utc(newDate).format(\"YYYY\")) - parseInt(moment.utc(newDate).format(\"YYYY\"));\r\n        var transPix = trans * 12.5;\r\n        _mouseMove_Year(transPix);\r\n    };\r\n\r\n    var _reSetDataInfo = function (newDataInfo) {\r\n        YearDataInfo = newDataInfo;\r\n        _getMouseMove_MonthFunc(0);\r\n    };\r\n\r\n    _self.init = _init;\r\n    _self.reSetDate = _reSetDate;\r\n    _self.mouseMoveFunc = _getMouseMove_Month;\r\n    _self.mouseMoveFunc = _reSetDataInfo;\r\n\r\n    return _self\r\n};\r\n\r\n"]}