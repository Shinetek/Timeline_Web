{"version":3,"sources":["TimeLine_shk.js"],"names":[],"mappings":"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","file":"TimeLine_shk-compiled.js","sourcesContent":["/**\r\n * Created by liuyp on 2016/10/24.\r\n */\r\nvar TimeLine = function () {\r\n\r\n    var self = this;\r\n\r\n    /**\r\n     * 当前选择日期 精确到时分秒\r\n     * @type {Date}\r\n     */\r\n    this.DateShow = new Date();\r\n    var Year_Show = 2016;\r\n    var Month_Show = 1;\r\n    var Day_Show = 1;\r\n    var Hour_Show = 0;\r\n    var Minute_Show = 0;\r\n\r\n    /**\r\n     * 整体显示 -- 当前浏览器类型\r\n     * @type {string}\r\n     */\r\n    this.browserType = \"\";\r\n\r\n    /**\r\n     *整体显示 -- 目标div ID\r\n     * @type {string}\r\n     */\r\n    this.IDName = '';\r\n\r\n    /**\r\n     * 显示模式  默认使用月模式\r\n     * Year_Mode Month_Mode Day_Mode Minute_Mode\r\n     * @type {string}\r\n     */\r\n    this.ShowMode = \"Month_Mode\";\r\n\r\n    /**\r\n     * 当前显示模式 是都显示TimeLineSVG\r\n     * true 显示时间轴\r\n     * false 显示时间轴\r\n     * @type {boolean}\r\n     */\r\n    this.Is_ShowSVGLine = true;\r\n\r\n    /* 分钟模式  鼠标 操作 变量*/\r\n    var isMove_Minute = false;\r\n    var x_Minute;\r\n    var X_Before_Minute = 0;\r\n    var m_Trans_Minute = -150;\r\n    //分钟模式下 初始化显示日期\r\n    var MinuteBegin_Date = new Date(moment.utc().add(-6, \"hours\").format(\"YYYY-MM-DD HH\").toString() + \":00:00\");\r\n\r\n\r\n    /* 日模式 鼠标 操作 变量*/\r\n    var isMove_Day = false;\r\n    var x_Day;\r\n    var X_Before_Day = 0;\r\n    var m_Trans_Day = -387.5;\r\n    //日模式下显示初始化左侧显示日期\r\n    var DayBegin_Date = new Date();\r\n\r\n    /* 月模式 鼠标 操作 变量*/\r\n    var isMove_Month = false;\r\n    var x_Month = 0;\r\n    var X_Before_Month = 0;\r\n    var m_Trans_Month = -150;\r\n    var MonthBegin_Date = new Date(2009, 0, 1);\r\n\r\n    /* 年模式 鼠标 操作 变量*/\r\n    var m_Trans_Year = 50;\r\n    var isMove_Year = false;\r\n    var x_Year = 0;\r\n    var X_Before_Year = 0;\r\n\r\n    var YearShowCount = 8;\r\n    var MonthShowCount = 12;\r\n    var DayShowCount = 5;\r\n    var MinutesShowCount = 11;\r\n\r\n    /*数据图层变量*/\r\n    /**\r\n     * 当前图层列表\r\n     * @type {Array}\r\n     */\r\n\r\n    var m_DataInfoALL = [];\r\n    //基本数据\r\n    var m_LayerDataList = [];\r\n    var m_LayerShowTypeList = [];\r\n    //分级数据\r\n    var m_YearModeData = [];\r\n    var m_MonthModeData = [];\r\n    var m_DayModeData = [];\r\n    var m_MinuteModeData = [];\r\n\r\n    /** 对外接口 */\r\n\r\n    /**\r\n     * 供外部调用的初始化函数\r\n     * @param DIVid\r\n     * @param m_InitMode\r\n     * @constructor\r\n     */\r\n    this.Init = function (DIVid, m_InitMode) {\r\n        //获取当前浏览器类型\r\n        self.browserType = setModeIE();\r\n        //用DIVid 赋值\r\n        self.IDName = DIVid;\r\n        //对初始化的类型赋值\r\n        switch (m_InitMode) {\r\n            case \"YEAR\":\r\n            {\r\n                self.ShowMode = \"Year_Mode\";\r\n                break;\r\n            }\r\n            case \"MONTH\":\r\n            {\r\n                self.ShowMode = \"Month_Mode\";\r\n                break;\r\n            }\r\n            case \"DAY\":\r\n            {\r\n                self.ShowMode = \"Day_Mode\";\r\n                break;\r\n            }\r\n            case \"MINUTE\":\r\n            {\r\n                self.ShowMode = \"Minute_Mode\";\r\n                break;\r\n            }\r\n            default:\r\n            {\r\n                self.ShowMode = \"Day_Mode\";\r\n                //默认使用天显示 模式\r\n                break;\r\n\r\n            }\r\n\r\n        }\r\n        InitShow();\r\n        InitDateClickFunc();\r\n    };\r\n\r\n    /**\r\n     * SVG title 显示内容初始化\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    this.LoadTitleHander = function (event) {\r\n        new Title(event.getTarget().getOwnerDocument(), 12);\r\n    };\r\n\r\n    /**\r\n     * 对外接口\r\n     * 获取当前时间\r\n     * @returns {*}\r\n     * @constructor\r\n     */\r\n    this.GetShowDate = function () {\r\n        return self.DateShow;\r\n    };\r\n\r\n    /**\r\n     * 对外接口\r\n     * 获取当前时间\r\n     * @param newDate\r\n     * @returns {boolean}\r\n     * @constructor\r\n     */\r\n    this.SetShowDate = function (newDate) {\r\n        if (newDate instanceof Date) {\r\n            self.DateShow = new Date(moment.utc(newDate));\r\n            RefreshTimeShow();\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 数值修改触发函数 外部重写此函数 获取修改事件\r\n     * @constructor\r\n     */\r\n    this.DateTimeChange = function () {\r\n        $(\"#\" + self.IDName).trigger(\"DateTimeChange\", [self.DateShow]);\r\n    };\r\n\r\n    /**  内部函数  */\r\n\r\n    /**\r\n     * 整体显示 --属性新当前显示\r\n     * @constructor\r\n     */\r\n    var RefreshTimeShow = function () {\r\n        //根据当前选择时间获取 年月日\r\n        Year_Show = self.DateShow.getUTCFullYear();\r\n        Month_Show = self.DateShow.getMonth() + 1;\r\n        Day_Show = self.DateShow.getDate();\r\n        Hour_Show = self.DateShow.getHours();\r\n        Minute_Show = self.DateShow.getMinutes();\r\n        //年月日赋值显示\r\n        document.getElementById('txt_Year').value = Year_Show.toString();\r\n        document.getElementById('txt_Month').value = Month_Show.toString();\r\n        document.getElementById('txt_Day').value = Day_Show.toString();\r\n        //调用数据修改函数 ，触发外部func\r\n        self.DateTimeChange();\r\n        //根据模式重绘\r\n        switch (self.ShowMode) {\r\n            case \"Year_Mode\":\r\n            {\r\n                Year_SVGMove(0);\r\n                break;\r\n            }\r\n            case \"Month_Mode\":\r\n            {\r\n                Month_SvgMove(0);\r\n                break;\r\n            }\r\n            case \"Day_Mode\":\r\n            {\r\n                Day_SVGMove(0);\r\n                break;\r\n            }\r\n            case \"Minute_Mode\":\r\n            {\r\n                Minute_SVGMove(0);\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 添加一天\r\n     * @constructor\r\n     */\r\n    var AddDay = function () {\r\n        //DateShow 添加一天\r\n        self.DateShow = new Date(moment(self.DateShow).add(1, 'day'));\r\n        //重设位移值 年位移位置\r\n        self.m_Trans = ( self.m_TransYear - moment(self.DateShow).year() + 5 ) * 150;\r\n\r\n        //天模式\r\n        m_Trans_Day = m_Trans_Day - 12.5;\r\n        //分钟位移位置\r\n        m_Trans_Minute = m_Trans_Minute - 3600;\r\n        RefreshTimeShow();\r\n    };\r\n\r\n    /**\r\n     * 添加一个月\r\n     * @constructor\r\n     */\r\n    var AddMonth = function () {\r\n        var momentStr = (  moment(self.DateShow).add(1, 'month') - moment(self.DateShow)) / 1000 / 3600 / 24;\r\n        self.DateShow = new Date(moment(self.DateShow).add(1, 'month'));\r\n        self.m_Trans = ( self.m_TransYear - moment(self.DateShow).year() + 5 ) * 150;\r\n        m_Trans_Minute = m_Trans_Minute - 3600 * momentStr;\r\n        //天模式\r\n        m_Trans_Day = m_Trans_Day - 12.5 * momentStr;\r\n        RefreshTimeShow();\r\n    };\r\n\r\n    /**\r\n     * 添加一年\r\n     * @constructor\r\n     */\r\n    var AddYear = function () {\r\n        var momentStr = (moment(self.DateShow).add(1, 'year') - moment(self.DateShow)) / 1000 / 3600 / 24;\r\n\r\n        //分钟模式 位移\r\n        m_Trans_Minute = m_Trans_Minute - momentStr * 3600;\r\n        //天模式\r\n        m_Trans_Day = m_Trans_Day - 12.5 * momentStr;\r\n        //月位移 todo\r\n\r\n        //年位移\r\n        self.m_Trans = ( self.m_TransYear - moment(self.DateShow).year() + 5 ) * 150;\r\n        self.DateShow = new Date(moment(self.DateShow).add(1, 'year'));\r\n        RefreshTimeShow();\r\n    };\r\n\r\n    /**\r\n     * 减一天\r\n     * @constructor\r\n     */\r\n    var MinusDay = function () {\r\n        self.DateShow = new Date(moment(self.DateShow).add(-1, 'day'));\r\n        //分钟模式\r\n        m_Trans_Minute = m_Trans_Minute + 3600;\r\n        //天模式\r\n        m_Trans_Day = m_Trans_Day + 12.5;\r\n        RefreshTimeShow();\r\n    };\r\n\r\n    /**\r\n     * 减一个月\r\n     * @constructor\r\n     */\r\n    var MinusMonth = function () {\r\n        var momentStr = (moment(self.DateShow) - moment(self.DateShow).add(-1, 'month')) / 1000 / 3600 / 24;\r\n        self.DateShow = new Date(moment(self.DateShow).add(-1, 'month'));\r\n        m_Trans_Minute = m_Trans_Minute + 3600 * momentStr;\r\n        //天模式\r\n        m_Trans_Day = m_Trans_Day + 12.5 * momentStr;\r\n        RefreshTimeShow();\r\n    };\r\n\r\n    /**\r\n     * 减一年\r\n     * @constructor\r\n     */\r\n    var MinusYear = function () {\r\n        //年份 的天\r\n        var momentStr = (moment(self.DateShow) - moment(self.DateShow).add(-1, 'year')) / 1000 / 3600 / 24;\r\n\r\n        self.DateShow = new Date(moment.utc(self.DateShow).add(-1, 'year'));\r\n\r\n        //分钟模式\r\n        m_Trans_Minute = m_Trans_Minute + momentStr * 3600;\r\n        //天模式\r\n        m_Trans_Day = m_Trans_Day + 12.5 * momentStr;\r\n        RefreshTimeShow();\r\n    };\r\n\r\n    /**\r\n     * 初始化界面显示\r\n     * @param DIVid\r\n     * @param m_InitMode\r\n     * @constructor\r\n     */\r\n    var InitShow = function () {\r\n        var m_ID = self.IDName;\r\n        //左侧时间选择\r\n        var ShowAll =\r\n            ' <div class=\"TimeInputDiv\">'\r\n            + '<div id=\"YearInputDiv\">'\r\n            + '<input type=\"button\" class=\"UpButton\" id=\"btn_AddYear\"></input>'\r\n            + '<input class=\"TimeInput\" id=\"txt_Year\" type=\"text\" readOnly=\"true\"> </input>'\r\n            + '<input type=\"button\" class=\"DownButton\" id=\"btn_MinusYear\"></input>'\r\n            + '</div>'\r\n            + '<div id=\"MonthInputDiv\">'\r\n            + '<button class=\"UpButton\" id=\"btn_AddMonth\"></button>'\r\n            + '<input class=\"MonthInput\" id=\"txt_Month\" type=\"text\" readOnly=\"true\">  </input>'\r\n            + '<button class=\"DownButton\" id=\"btn_MinusMonth\"></button>'\r\n            + '</div>'\r\n            + '<div id=\"DayInputDiv\">'\r\n            + '<button class=\"UpButton\" id=\"btn_AddDay\"></button>'\r\n            + '<input class=\"MonthInput\" id=\"txt_Day\" type=\"text\"  readOnly=\"true\"> </input>'\r\n            + '<button class=\"DownButton\" id=\"btn_MinusDay\"></button>'\r\n            + '</div>'\r\n            + '<div id=\"BeforeDiv\">'\r\n            + '<button class=\"BeforeButton\" id=\"btn_BeforeTime\"></button>'\r\n            + '</div>'\r\n            + '<div id=\"AfterDiv\">'\r\n            + '<button class=\"AfterButton\" id=\"btn_AfterTime\"></button>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div class=\"TimeLineTotalDiv\" id=\"ShowTimeLine\">'\r\n            + '<div class=\"TimeLineDiv\" id=\"Show_YearDiv\">'\r\n            + '<!--时间轴部分-->'\r\n            + '<div class=\"TimeLineDiv_Inside\" id=\"ShowTimeLineDiv_Year\">'\r\n            + '<div class=\"SVGDiv_Inside\">'\r\n            + '<svg class=\"svg_ALL\" height=\"99\" id=\"SVG_Year_Total\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<!--模式选择部分-->'\r\n            + '<div class=\"TimeMode_Inner\" id=\" TimeModeDiv YearMode_Div\">'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '<div class=\"BigShowDiv    btn_ShowYear\" style=\"display:none\">Years</div>'\r\n            + '<div class=\"MedShowDiv    btn_ShowMonth\" style=\"display:none\">Months</div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowDay\">Days</div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowMinute\" style=\"display:none\">Minutes</div>'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div class=\"TimeLineDiv\" id=\"Show_MonthDiv\" style=\"display: none\">'\r\n            + '<!--  月时间轴部分-->'\r\n            + '<div class=\"TimeLineDiv_Inside\" id=\"ShowTimeLineDiv_Month\">'\r\n            + '<svg class=\"svg_ALL\" height=\"100\" id=\"SVG_Total\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<g id=\"ShowSVG\" transform=\"translate(0,6)\" class=\"x aixs\"></g>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '<!--  月时间轴选择部分 -->'\r\n            + '<div id=\"MonthMode_Div\" class=\" TimeModeDiv TimeMode_Inner\">'\r\n            + '<div class=\"SmallFillDiv  \"></div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowYear\">Years</div>'\r\n            + '<div class=\"BigShowDiv    btn_ShowMonth\">Months</div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowDay\">Days</div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowMinute\">Minutes</div>'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div class=\"TimeLineDiv\" id=\"Show_DayDiv\" style=\"display: none\">'\r\n            + '<div class=\"TimeLineDiv_Inside\" id=\"ShowTimeLineDiv_Day\">'\r\n            + '<svg class=\"svg_ALL\" height=\"100\" id=\"SVG_Day_Total\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<g id=\"ShowSVG_Day\" transform=\"translate(0,6)\" class=\"x aixs \">'\r\n            + '</g>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '<div class=\" TimeModeDiv TimeMode_Inner\" id=\"DayMode_Div\">'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowYear \">Years</div>'\r\n            + '<div class=\"MedShowDiv    btn_ShowMonth\">Months</div>'\r\n            + '<div class=\"BigShowDiv    btn_ShowDay  \">Days</div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowMinute\">Minutes</div>'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div class=\"TimeLineDiv\" id=\"Show_MinuteDiv\" style=\"display: none\">'\r\n            + '<div class=\"TimeLineDiv_Inside\" id=\"ShowTimeLineDiv_Minute\">'\r\n            + '<svg class=\"svg_ALL\" height=\"100\" id=\"SVG_Minute_Total\" xmlns=\"http://www.w3.org/2000/svg\">'\r\n            + '<g id=\"ShowSVG_Minute\" transform=\"translate(0,6)\" class=\"x aixs \">'\r\n            + '</g>'\r\n            + '</svg>'\r\n            + '</div>'\r\n            + '<div class=\" TimeModeDiv TimeMode_Inner\" id=\"MinuteMode_Div\">'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '<div class=\"SmallShowDiv  btn_ShowYear \">Years</div>'\r\n            + '<div class=\"SmallShowDiv    btn_ShowMonth\">Months</div>'\r\n            + '<div class=\"MedShowDiv    btn_ShowDay  \">Days</div>'\r\n            + '<div class=\"BigShowDiv  btn_ShowMinute\">Minutes</div>'\r\n            + '<div class=\"SmallFillDiv \"></div>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '</div>'\r\n            + '<div class=\"ShowHidebtnDiv\" id=\"ShowHidebtn\">'\r\n            + '</div>';\r\n\r\n        var m_ShowDiv = document.getElementById(m_ID);\r\n        //初始化\r\n        m_ShowDiv.innerHTML = ShowAll;\r\n\r\n        try {\r\n            m_ShowDiv.style.position = \"fixed\";\r\n            m_ShowDiv.style.bottom = 0;\r\n            m_ShowDiv.style.left = 0;\r\n        } catch (err) {\r\n        }\r\n        //根据窗口设置宽度\r\n        GetFullModeWidth(m_ID);\r\n    };\r\n\r\n    /**\r\n     * 初始化显示左侧年月日 并初始化赋值点击事件\r\n     * @constructor\r\n     */\r\n    var InitDateClickFunc = function () {\r\n        //初始化时间\r\n        self.DateShow = new Date();\r\n        Year_Show = self.DateShow.getUTCFullYear();\r\n        Month_Show = self.DateShow.getUTCMonth() + 1;\r\n        Day_Show = self.DateShow.getUTCDate();\r\n        Hour_Show = self.DateShow.getUTCHours();\r\n        Minute_Show = self.DateShow.getUTCMinutes();\r\n\r\n        /*初始化点击事件*/\r\n        //年月日 加一 函数赋值\r\n        var m_btn_AddYear = document.getElementById(\"btn_AddYear\");\r\n        m_btn_AddYear.onclick = AddYear;\r\n        var btn_AddMonth = document.getElementById(\"btn_AddMonth\");\r\n        btn_AddMonth.onclick = AddMonth;\r\n        var btn_AddDay = document.getElementById(\"btn_AddDay\");\r\n        btn_AddDay.onclick = AddDay;\r\n\r\n        //年月日 减一 函数赋值\r\n        var btn_MinusYear = document.getElementById(\"btn_MinusYear\");\r\n        btn_MinusYear.onclick = MinusYear;\r\n        var btn_MinusMonth = document.getElementById(\"btn_MinusMonth\");\r\n        btn_MinusMonth.onclick = MinusMonth;\r\n        var btn_MinusDay = document.getElementById(\"btn_MinusDay\");\r\n        btn_MinusDay.onclick = MinusDay;\r\n\r\n        //初始化设置时间选择值 重新 赋值\r\n        document.getElementById('txt_Year').value = Year_Show.toString();\r\n        document.getElementById('txt_Month').value = Month_Show.toString();\r\n        document.getElementById('txt_Day').value = Day_Show.toString();\r\n\r\n        //设置 年TimeLine 滚动事件\r\n        var m_ShowTimeLineDiv_Year = document.getElementById(\"ShowTimeLineDiv_Year\");\r\n        m_ShowTimeLineDiv_Year.onmousedown = GetMouseDown_Year;\r\n        m_ShowTimeLineDiv_Year.onmouseup = GetMouseUP_Year;\r\n        m_ShowTimeLineDiv_Year.onmouseout = GetMouseOut_Year;\r\n        m_ShowTimeLineDiv_Year.onmousemove = MouseMove_Year;\r\n\r\n        //设置 月TimeLine 滚动事件\r\n        var m_ShowTimeLineDiv_Month = document.getElementById(\"ShowTimeLineDiv_Month\");\r\n        m_ShowTimeLineDiv_Month.onmousedown = GetMouseDown_Month;\r\n        m_ShowTimeLineDiv_Month.onmouseup = GetMouseUP_Month;\r\n        m_ShowTimeLineDiv_Month.onmouseout = GetMouseOut_Month;\r\n        m_ShowTimeLineDiv_Month.onmousemove = MouseMove_Month;\r\n\r\n        //设置 日TimeLine 滚动事件\r\n        var m_ShowTimeLineDiv_Day = document.getElementById(\"ShowTimeLineDiv_Day\");\r\n        m_ShowTimeLineDiv_Day.onmousedown = GetMouseDown_Day;\r\n        m_ShowTimeLineDiv_Day.onmouseup = GetMouseUP_Day;\r\n        m_ShowTimeLineDiv_Day.onmouseout = GetMouseOut_Day;\r\n        m_ShowTimeLineDiv_Day.onmousemove = MouseMove_Day;\r\n\r\n        //设置 分钟 TimeLine 滚动事件\r\n        var m_ShowTimeLineDiv_Minute = document.getElementById(\"ShowTimeLineDiv_Minute\");\r\n        m_ShowTimeLineDiv_Minute.onmousedown = GetMouseDown_Minute;\r\n        m_ShowTimeLineDiv_Minute.onmouseup = GetMouseUP_Minute;\r\n        m_ShowTimeLineDiv_Minute.onmouseout = GetMouseOut_Minute;\r\n        m_ShowTimeLineDiv_Minute.onmousemove = MouseMove_Minute;\r\n\r\n        //设置点击事件\r\n        var m_btn_ShowYear = document.getElementsByClassName('btn_ShowYear');\r\n        for (var i = 0; i < m_btn_ShowYear.length; i++) {\r\n            m_btn_ShowYear[i].onclick = ShowYearMode;\r\n        }\r\n\r\n        var m_btn_ShowMonth = document.getElementsByClassName('btn_ShowMonth');\r\n        for (var k = 0; k < m_btn_ShowMonth.length; k++) {\r\n            m_btn_ShowMonth[k].onclick = ShowMonthMode;\r\n        }\r\n\r\n        var m_btn_ShowDay = document.getElementsByClassName('btn_ShowDay');\r\n        for (var j = 0; j < m_btn_ShowDay.length; j++) {\r\n            m_btn_ShowDay[j].onclick = ShowDayMode;\r\n        }\r\n\r\n        var m_btn_ShowMinute = document.getElementsByClassName('btn_ShowMinute');\r\n        for (var w = 0; w < m_btn_ShowMinute.length; w++) {\r\n            m_btn_ShowMinute[w].onclick = ShowMinuteMode;\r\n        }\r\n\r\n        //设置左右点击事件\r\n        //向左减一天\r\n        var btn_MinusDay_Left = document.getElementById(\"btn_BeforeTime\");\r\n        btn_MinusDay_Left.onclick = MinusDay;\r\n        //向右加一天\r\n        var btn_AddDay_Right = document.getElementById(\"btn_AfterTime\");\r\n        btn_AddDay_Right.onclick = AddDay;\r\n\r\n        //伸缩点击事件\r\n        var m_btn_ShowTimeLine = document.getElementById('ShowHidebtn');\r\n        m_btn_ShowTimeLine.onclick = ClickShowAndHide;\r\n        //调用初始化函数\r\n        InitTimeLineShow();\r\n    };\r\n\r\n    /**\r\n     * 界面重绘 重新计算样式\r\n     */\r\n    $(window).resize(function () {\r\n        //判断当前显示模式 是否显示了时间轴\r\n        if (self.Is_ShowSVGLine) {\r\n            //若为全屏模式 则重新计算时间轴 及总控件宽度\r\n            GetFullModeWidth(self.IDName);\r\n        }\r\n    });\r\n\r\n    /**\r\n     * 获取当前用于显示的浏览器类型\r\n     * @returns {*}\r\n     */\r\n    var setModeIE = function () {\r\n        var explorer = window.navigator.userAgent;\r\n        if (navigator.userAgent.indexOf(\"MSIE\") > 0) {\r\n            return \"MSIE\";\r\n        }\r\n        if (isFirefox = navigator.userAgent.indexOf(\"Firefox\") > 0) {\r\n            return \"Firefox\";\r\n        }\r\n        if (explorer.indexOf(\"Chrome\") >= 0) {\r\n            return \"Chrome\";\r\n        }\r\n        if (isSafari = navigator.userAgent.indexOf(\"Safari\") > 0) {\r\n            return \"Safari\";\r\n        }\r\n        if (isCamino = navigator.userAgent.indexOf(\"Camino\") > 0) {\r\n            return \"Camino\";\r\n        }\r\n        if (isMozilla = navigator.userAgent.indexOf(\"Gecko/\") > 0) {\r\n            return \"Gecko\";\r\n        }\r\n        if (explorer.indexOf(\"Opera\") >= 0) {\r\n            return \"Opera\";\r\n        }\r\n        return \"unknown\";\r\n    };\r\n\r\n    /**\r\n     * 根据界面设置宽度\r\n     * @param DIVid\r\n     * @constructor\r\n     */\r\n    var GetFullModeWidth = function () {\r\n        var m_browserType = self.browserType;\r\n        var m_DIVID = self.IDName;\r\n        if (m_DIVID == '') {\r\n            return;\r\n        }\r\n\r\n        var m_ClassADD = document.getElementById(m_DIVID);\r\n        var TimeLineTotalDIV = document.getElementById(\"ShowTimeLine\");\r\n        var TimeLineList = document.getElementsByClassName(\"svg_ALL\");\r\n        var Total_Witdh = 0;\r\n        //chrome 浏览器\r\n        if (m_browserType == \"Chrome\") {\r\n            // 总宽度\r\n            var TotalWidth = (document.documentElement.scrollWidth > document.documentElement.clientWidth) ? document.documentElement.scrollWidth : document.documentElement.scrollWidth;\r\n            Total_Witdh = TotalWidth;\r\n            //设置整体控件宽度\r\n            if (TotalWidth > 380) {\r\n                document.getElementById(m_DIVID).style.width = TotalWidth;\r\n            } else {\r\n                document.getElementById(m_DIVID).style.width = 380;\r\n            }\r\n\r\n            //右侧SVGTimeLine高度\r\n            var SVGWitdh;\r\n            SVGWitdh = TotalWidth - 490;\r\n            //设置TimeLine宽度\r\n            TimeLineTotalDIV.style.width = TotalWidth - 360;\r\n\r\n            //SVG列表 设置宽度\r\n            for (var j = 0; j < TimeLineList.length; j++) {\r\n                TimeLineList[j].style.width = SVGWitdh;\r\n            }\r\n        }\r\n        //火狐样式\r\n        if (m_browserType == \"Firefox\") {\r\n            // 总宽度\r\n            var TotalWidth_fireFox = document.documentElement.clientWidth - 20;\r\n            Total_Witdh = TotalWidth_fireFox;\r\n            //设置TimeLine DIV宽度\r\n            if (TotalWidth_fireFox > 360) {\r\n                m_ClassADD.style.width = TotalWidth_fireFox + \"px\";\r\n            } else {\r\n                m_ClassADD.style.width = 360 + \"px\";\r\n            }\r\n            //SVG列表 设置宽度\r\n            var SVGWitdh_fireFox = TotalWidth_fireFox - 490;\r\n            for (var k = 0; k < TimeLineList.length; k++) {\r\n                TimeLineList[k].style.width = SVGWitdh_fireFox + \"px\";\r\n            }\r\n            //右侧SVGTimeLine宽度\r\n            TimeLineTotalDIV.style.width = (TotalWidth_fireFox - 360) + \"px\";\r\n        }\r\n\r\n        //IE样式\r\n        if (m_browserType == \"MSIE\") {\r\n            // 总宽度\r\n            var TotalWidth_MSIE = document.documentElement.clientWidth - 20;\r\n            Total_Witdh = TotalWidth_MSIE;\r\n            //设置TimeLine DIV宽度\r\n            if (TotalWidth_MSIE > 360) {\r\n                m_ClassADD.style.width = TotalWidth_MSIE + \"px\";\r\n            } else {\r\n                m_ClassADD.style.width = 360 + \"px\";\r\n            }\r\n            //SVG列表 设置宽度\r\n            var SVGWitdh_MSIE = TotalWidth_MSIE - 490;\r\n            for (var t = 0; t < TimeLineList.length; t++) {\r\n                TimeLineList[t].style.width = SVGWitdh_MSIE + \"px\";\r\n            }\r\n            //右侧SVGTimeLine宽度\r\n            TimeLineTotalDIV.style.width = (TotalWidth_MSIE - 360) + \"px\";\r\n        }\r\n\r\n        //495\r\n        var ShowTimeLine = document.getElementsByClassName(\"TimeLineTotalDiv\");\r\n        if (Total_Witdh < 495) {\r\n            for (var i = 0; i < ShowTimeLine.length; i++) {\r\n                ShowTimeLine[i].style.display = \"none\";\r\n            }\r\n            self.Is_ShowSVGLine = false;\r\n        }\r\n        else {\r\n            //var ShowTimeLine = document.getElementsByClassName(\"TimeLineTotalDiv\");\r\n            for (var t1 = 0; t1 < ShowTimeLine.length; t1++) {\r\n                ShowTimeLine[t1].style.display = \"block\";\r\n            }\r\n            self.Is_ShowSVGLine = true;\r\n        }\r\n        //根据新长度计算当前显示宽度值\r\n        if (Total_Witdh != 0 && Total_Witdh > 0) {\r\n            // console.log(\"屏幕总宽度：\" + Total_Witdh);\r\n            var CountWidth = Total_Witdh - 300 - 150;\r\n            //年的 10年 一年25\r\n            YearShowCount = Math.ceil(CountWidth / 10 / 25) + 1;\r\n            //月 一年 12个月 一个月12.5\r\n            MonthShowCount = Math.ceil(CountWidth / 12.5 / 12) + 2;\r\n            //day 一个月 29天\r\n            DayShowCount = Math.ceil(CountWidth / 29 / 12.5) + 1;\r\n            //分钟 一小时  12个 5分钟 1个12.5\r\n            MinutesShowCount = Math.ceil(CountWidth / 12 / 12.5) + 1;\r\n            //console.log(YearShowCount + \":\" + MonthShowCount + \":\" + DayShowCount + \":\" + MinutesShowCount);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 初始化 显示TimeLine div\r\n     * @constructor\r\n     */\r\n    var InitTimeLineShow = function () {\r\n        switch (self.ShowMode) {\r\n            case \"Year_Mode\":\r\n            {\r\n                Year_SVGMove(0);\r\n                ShowYearMode();\r\n                break;\r\n            }\r\n            case \"Month_Mode\":\r\n            {\r\n                InitMonthTimeLineShow(2009);\r\n                ShowMonthMode();\r\n                break;\r\n            }\r\n            case \"Day_Mode\":\r\n            {\r\n                Day_SVGMove(0);\r\n                ShowDayMode();\r\n                break;\r\n            }\r\n            case \"Minute_Mode\":\r\n            {\r\n\r\n                Minute_SVGMove(0);\r\n                ShowMinuteMode();\r\n                break;\r\n            }\r\n            default:\r\n            {\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 设置年\r\n     * @param Year\r\n     * @returns {boolean}\r\n     * @constructor\r\n     */\r\n    var SetShowYear = function (Year) {\r\n        if (parseInt(Year) != NaN) {\r\n            Year_Show = parseInt(Year).toString();\r\n            self.DateShow = new Date(Year_Show, Month_Show - 1, Day_Show, Hour_Show, Minute_Show, 0);\r\n            RefreshTimeShow();\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 设置年月  函数\r\n     * @param enevt\r\n     * @returns {boolean}\r\n     * @constructor\r\n     */\r\n    var SetShowMonth = function (enevt) {\r\n        var TimeStr = enevt.getAttribute(\"value\");\r\n        var new_Year = TimeStr.split(\"-\")[0];\r\n        var new_Month = TimeStr.split(\"-\")[1];\r\n        if (parseInt(new_Year) != NaN) {\r\n            Year_Show = parseInt(new_Year).toString();\r\n            Month_Show = parseInt(new_Month).toString();\r\n            //设置年月日\r\n            self.DateShow = new Date(Year_Show, Month_Show - 1, Day_Show, Hour_Show, Minute_Show, 0);\r\n            RefreshTimeShow();\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 获取分钟鼠标 down事件\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var GetMouseDown_Minute = function (event) {\r\n        isMove_Minute = true;\r\n        x_Minute = event.clientX;\r\n        X_Before_Minute = x_Minute;\r\n    };\r\n\r\n    /**\r\n     * 获取分钟鼠标 UP事件\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var GetMouseUP_Minute = function (event) {\r\n        isMove_Minute = false;\r\n    };\r\n\r\n    /**\r\n     * 获取分钟鼠标 移出事件\r\n     * @constructor\r\n     */\r\n    var GetMouseOut_Minute = function () {\r\n        //若非火狐 则移动\r\n        if (self.browserType != \"Firefox\") {\r\n            isMove_Minute = false;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 分钟模式 -- 鼠标拖动位移\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var MouseMove_Minute = function (event) {\r\n        //计算拖动位移\r\n        if (isMove_Minute) {\r\n            x_Minute = event.clientX;\r\n            var DrgNum = X_Before_Minute - x_Minute;\r\n            if (DrgNum >= 1 || DrgNum <= -1) {\r\n                X_Before_Minute = x_Minute;\r\n                Minute_SVGMove(DrgNum);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 分钟模式 -- 设置点击事件\r\n     * @constructor\r\n     */\r\n    var Minute_ClickFucn = function () {\r\n        //分钟点击事件\r\n        var m_Btn_MinuteRectList = document.getElementsByClassName('Btn_MinuteRect');\r\n        for (var t = 0; t < m_Btn_MinuteRectList.length; t++) {\r\n            m_Btn_MinuteRectList[t].onclick = function () {\r\n                MinuteRectOnClick(this);\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 分钟模式 -- 鼠标拖动等事件中 重绘界面 移动界面\r\n     * 向前为正 ，向后为负\r\n     * @param trans\r\n     * @constructor\r\n     */\r\n    var Minute_SVGMove = function (trans) {\r\n\r\n        //用于整体显示的SVG InnerHTML\r\n        var SVG_Show = '';\r\n\r\n        //全局变量 修改\r\n        m_Trans_Minute = m_Trans_Minute - trans;\r\n\r\n        //向后拖动\r\n        while (m_Trans_Minute > 0) {\r\n            m_Trans_Minute = m_Trans_Minute - 12 * 12.5;\r\n            //减一个小时\r\n            MinuteBegin_Date.setHours(MinuteBegin_Date.getHours() - 1);\r\n        }\r\n        //向前拖动\r\n        while (m_Trans_Minute < -150) {\r\n            m_Trans_Minute = m_Trans_Minute + 12 * 12.5;\r\n            //加1小时\r\n            MinuteBegin_Date.setHours(MinuteBegin_Date.getHours() + 1);\r\n        }\r\n        //每个月的位移 初始化位0\r\n        var Month_Trans = m_Trans_Minute;\r\n        //初始时间为2016年1月 当前月\r\n        var CountDate = MinuteBegin_Date;\r\n        //当前选择日期 str\r\n        var DateShowNowStr = moment(self.DateShow).utc().format('YYYY-MM-DD HH:mm');\r\n        //小时份循环\r\n\r\n        var is_GutiarFlag = false;\r\n        //小时开始 绘制 21个小时\r\n        for (var i = 0; i < MinutesShowCount; i++) {\r\n            var TimeGar = '';\r\n            var SVG_Hour = '<g class=\"tick_Total_Year\" transform=\"translate(' + Month_Trans + ')\">' +\r\n                '<line x1=\"0\" x2=\"0\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>';\r\n            var HourNow = new Date(moment(CountDate).format(\"YYYY-MM-DD HH:mm\"));\r\n            //每一个小时 中 5min循环    一小时12\r\n            for (var j = 0; j < 12; j++) {\r\n                //每一个小时中 每5min的位移\r\n                var Minute_Trans = (j * 12.5).toString();\r\n                //根据时间计算当前块显示 DATE YYYY-MM-dd\r\n                var DayTimeStr = moment(HourNow).utc().format('YYYY-MM-DD HH:mm');\r\n                //根据时间加载数据 svg\r\n                var Data_SVG = GetMinuteMode_DataShowList(DayTimeStr, Minute_Trans);\r\n                // 是否为当前显示 时分秒\r\n                var item = HourNow - self.DateShow;\r\n                //显示指针\r\n                if (300000 > item && item >= 0 && TimeGar == '') {\r\n                    is_GutiarFlag = true;\r\n                    TimeGar = '<g id=\"guitarpick\" class=\"SVG_guitarpick\" '\r\n                        + ' transform=\"translate(' + (Minute_Trans - 8) + ',-10)\">'\r\n                        + '<title>' + DateShowNowStr + '</title>'\r\n                        + '<path d=\"'\r\n                        + 'M3.658 0.743C1.775 0.743 0.25 3.793 0.25 7.555l0 21.272l7.302 15.711l7.302 15.711l7.302 -15.711l7.302 -15.711l0 -21.272c0 -3.763 -1.526 -6.813 -3.408 -6.813l-22.392 0z'\r\n                        + '\"></path>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"9\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"14\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"19\" y=\"11\" ></rect>'\r\n                        + '</g>';\r\n                }\r\n                //根据时间 初始化 基础svg\r\n                var SVG_Day = '   <g class=\"tick_Year_One\" transform=\"translate(' + Minute_Trans + ')\" >'\r\n                    + '<rect class=\"DayRect Btn_MinuteRect\" x=\"0.2\" y=\"0\" width=\"12.5\" height=\"55\" value=\"' + DayTimeStr + '\">'\r\n                    + '<title>' + DayTimeStr + '</title>'\r\n                    + '</rect>'\r\n                    + '<line class=\"tick_dot\" x1=\"12\" x2=\"12\" y1=\"0\" y2=\"52\"></line>'\r\n                    + '</g>';\r\n                //SVG_Hour = SVG_Hour + Data_SVG + SVG_Day + TimeGar;\r\n\r\n                SVG_Hour = SVG_Hour + Data_SVG + SVG_Day;\r\n                if (Minute_Trans == \"75\" || Minute_Trans == \"215\") {\r\n                    SVG_Hour = SVG_Hour\r\n                        + '<line x1=\"' + Minute_Trans + '\" x2=\"' + Minute_Trans + '\" y1=\"40\" y2=\"55\" class=\"tick_10DayLine\"'\r\n                        + ' ></line>';\r\n                }\r\n                // 加5min\r\n                HourNow.setMinutes(HourNow.getMinutes() + 5);\r\n\r\n            }\r\n            Month_Trans = 12 * 12.5 + Month_Trans;\r\n            var Width = 12 * 12.5;\r\n            var TimeHourShow = moment(CountDate).utc().format(\"YYYY-MM-DD HH:mm\");\r\n            if ((CountDate).getUTCHours() == 0) {\r\n                TimeHourShow = moment(CountDate).utc().format(\"YYYY-MM-DD\");\r\n            }\r\n            else {\r\n                TimeHourShow = moment(CountDate).utc().format(\"HH:mm\");\r\n            }\r\n            var Month_End = '<g transform=\"translate(0)\">'\r\n                + '<rect x=\"0\" y=\"55\" width=\"' + Width + '\" height=\"25\" class=\"Rect_White\"/>'\r\n                + '<text x=\"12\" y=\"73\" class=\"Month_Text_Show\">' + TimeHourShow + '</text>'\r\n                + '</g>'\r\n                + '<g>'\r\n                + '<circle cx=\"0\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '<circle cx=\"' + Width + '\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '</g>'\r\n                + '<line x1=\"' + Width + '\" x2=\"' + Width + '\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>'\r\n                + '</g>';\r\n            SVG_Hour = SVG_Hour + TimeGar + Month_End;\r\n\r\n            //小时显示完结\r\n            SVG_Show = SVG_Show + SVG_Hour;\r\n            //时间相加\r\n            CountDate = new Date(moment(CountDate).add(1, 'hour'));\r\n        }\r\n        //时间相加\r\n        var ShowTimeLine = document.getElementById(\"ShowSVG_Minute\");\r\n\r\n        if (self.browserType != \"MSIE\") {\r\n            ShowTimeLine.innerHTML = SVG_Show;\r\n        } else {\r\n            $(\"#ShowSVG_Day\").append(SVG_Show);\r\n        }\r\n        //ShowTimeLine.innerHTML = SVG_Show;\r\n        Minute_ClickFucn();\r\n    };\r\n\r\n    /**\r\n     * 分钟模式 -- 单日点击事件\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var MinuteRectOnClick = function (event) {\r\n        var Tag = event.getAttribute(\"value\");\r\n        var ClickDate = new Date(moment.utc(Tag));\r\n        self.SetShowDate(ClickDate);\r\n    };\r\n\r\n\r\n    /**\r\n     * 分钟模式 -- 获取月模式的数据显示SVG 内容函数\r\n     * @param Show_DayDate 输入传入的分钟时间\r\n     * @param ShowTransLate 和当前分钟时间的位移\r\n     * @returns {*}\r\n     * @constructor\r\n     */\r\n    var GetMinuteMode_DataShowList = function (Show_DayDate, ShowTransLate) {\r\n        Show_DayDate = Show_DayDate.toString();\r\n        //若数据长度为0 则返回空\r\n        if (m_MinuteModeData.length == 0 || !m_MinuteModeData.length) {\r\n            return '';\r\n        }\r\n        //数据整体svg\r\n        var ShowLayer_DataSVG = '<g style=\"width: 12px;height: 40px;fill:#5F5F01\" class=\"tick_Data_Show\"'\r\n            + ' transform=\"translate(' + ShowTransLate + ')\">';\r\n\r\n        //日期格式赋值\r\n        var Date_Rect = Show_DayDate;\r\n        //是否显示列表\r\n        var IsDataShowList = [];\r\n        //查找是否存在数据\r\n        for (var k = 0; k < m_MinuteModeData.length; k++) {\r\n            var is_ShowTag = false;\r\n            var m_DataInfo_i = m_MinuteModeData[k];\r\n\r\n            var IndexNum = m_DataInfo_i.indexOf(Date_Rect);\r\n            if (IndexNum != -1) {\r\n                is_ShowTag = true;\r\n            }\r\n            //根据数据存在情况加入列表\r\n            IsDataShowList.push(is_ShowTag);\r\n        }\r\n        //判定是否有数据条填充 若无填充 则返回空值\r\n        var IS_ShowTag = false;\r\n        //生成基于 数据的是否显示Ture False 列表　使用列表初始化显示\r\n        var rect_Height = Math.round(40 / m_MinuteModeData.length, 2);\r\n        if (rect_Height > 10) {\r\n            rect_Height = 10;\r\n        }\r\n        for (var i = 0; i < m_MinuteModeData.length; i++) {\r\n            var DateRect = '';\r\n            var Rect_Y = i * rect_Height;\r\n            //生成RECT 样式\r\n            if (IsDataShowList[i] == true) {\r\n                //获取当前图层是否显示信息\r\n                var Ishow = m_LayerShowTypeList[i];\r\n                var RectLineEnd = Rect_Y + rect_Height - 0.4;\r\n                //根据显示情况\r\n                if (Ishow) {\r\n                    IS_ShowTag = true;\r\n                    //若该图层显示 则为蓝色\r\n                    DateRect = '<rect class=\"Rect_Data_Show\" x=\"-0.2\" y=\"' + Rect_Y + '\" width=\"12.7\" height=\"' + rect_Height + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                } else {\r\n                    IS_ShowTag = true;\r\n                    //不显示则为灰色\r\n                    DateRect = '<rect class=\"Rect_Data_Hide\" x=\"0\" y=\"' + Rect_Y + '\" width=\"12.5\" height=\"' + rect_Height + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                }\r\n            }\r\n            else {\r\n                //若没有数据 则为空\r\n                DateRect = '';\r\n            }\r\n            //组成矩阵\r\n            ShowLayer_DataSVG = ShowLayer_DataSVG + DateRect;\r\n        }\r\n        ShowLayer_DataSVG = ShowLayer_DataSVG + '</g>';\r\n        if (IS_ShowTag == false) {\r\n            ShowLayer_DataSVG == '';\r\n        }\r\n        return ShowLayer_DataSVG;\r\n    };\r\n\r\n    /*分钟模式 时间轴部分 end*/\r\n\r\n\r\n    /*日模式 日时间轴部分 begin*/\r\n\r\n\r\n    /**\r\n     * 日模式  DAY的DIV中 鼠标按下 触发函数\r\n     * @constructor\r\n     */\r\n    var GetMouseDown_Day = function (event) {\r\n        isMove_Day = true;\r\n        x_Day = event.clientX;\r\n        X_Before_Day = x_Day;\r\n    };\r\n\r\n    /**\r\n     * 日模式  DAY的DIV中 鼠标抬起  触发函数\r\n     * @constructor\r\n     */\r\n    var GetMouseUP_Day = function (event) {\r\n        isMove_Day = false;\r\n    };\r\n\r\n    /**\r\n     * 日模式  鼠标移出DAY的DIV 触发函数\r\n     * @constructor\r\n     */\r\n    var GetMouseOut_Day = function () {\r\n        if (self.browserType != \"Firefox\") {\r\n            isMove_Day = false;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 日模式 -- 鼠标拖动位移 重新计算SVG  函数\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var MouseMove_Day = function (event) {\r\n        //计算拖动位移\r\n        if (isMove_Day) {\r\n            x_Day = event.clientX;\r\n            var DrgNum = X_Before_Day - x_Day;\r\n            if (DrgNum >= 1 || DrgNum <= -1) {\r\n                X_Before_Day = x_Day;\r\n                Day_SVGMove(DrgNum);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 日模式 -- 设置点击事件\r\n     * @constructor\r\n     */\r\n    var Day_ClickFucn = function () {\r\n        // console.log(\"Day_ClickFucn\");\r\n        //日点击事件\r\n        var m_Btn_DayRectList = document.getElementsByClassName('Btn_DayRect');\r\n        for (var t = 0; t < m_Btn_DayRectList.length; t++) {\r\n            m_Btn_DayRectList[t].onclick = function () {\r\n                DayRectOnClick(this);\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 日模式 -- 鼠标拖动等事件中 重绘界面 移动界面 向前为正 ，向后为负\r\n     * @param trans\r\n     * @constructor\r\n     */\r\n    var Day_SVGMove = function (trans) {\r\n        //界面显示2个月\r\n        var SVG_Show = '';\r\n        //每个月的位移 初始化位0\r\n        m_Trans_Day = m_Trans_Day - trans;\r\n        //向后拖动\r\n        while (m_Trans_Day > 0) {\r\n            //计算长度\r\n            var BeforeMonthLength = (new Date(DayBegin_Date.getFullYear(), (DayBegin_Date.getMonth() ), 0).getDate()) * 12.5;\r\n            m_Trans_Day = m_Trans_Day - BeforeMonthLength;\r\n            //减一个月\r\n            DayBegin_Date.setMonth(DayBegin_Date.getMonth() - 1);\r\n        }\r\n        //向前拖动\r\n        var MonthLength = -(new Date(DayBegin_Date.getFullYear(), (DayBegin_Date.getMonth() + 1), 0).getDate()) * 12.5;\r\n        while (m_Trans_Day < MonthLength) {\r\n            m_Trans_Day = m_Trans_Day - MonthLength;\r\n            DayBegin_Date.setMonth(DayBegin_Date.getMonth() + 1);\r\n            //计算长度\r\n            MonthLength = -(new Date(DayBegin_Date.getFullYear(), (DayBegin_Date.getMonth() + 1), 0).getDate()) * 12.5;\r\n        }\r\n        Month_Trans = m_Trans_Day;\r\n        //初始时间为2016年1月 当前月\r\n        var CountDate = new Date(DayBegin_Date.getFullYear(), DayBegin_Date.getMonth() - 1, DayBegin_Date.getDate());\r\n\r\n        var DateShowNowStr = moment(self.DateShow).format('YYYY-MM-DD');\r\n        //月份循环\r\n        for (var i = 0; i < DayShowCount; i++) {\r\n            var TimeGar = '';\r\n            //计算当前月份天数\r\n            var TimeDateCount = new Date(CountDate.getFullYear(), (CountDate.getMonth() + 1), 0).getDate();\r\n            var ShowYear = CountDate.getFullYear();\r\n            var ShowMonth = CountDate.getMonth();\r\n            //月开始 绘制\r\n            var SVG_Month = '  <g class=\"tick_Total_Year\" transform=\"translate(' + Month_Trans + ')\">' +\r\n                '<line x1=\"0\" x2=\"0\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>';\r\n            //每一天循环\r\n            for (var j = 0; j < TimeDateCount; j++) {\r\n                //计算每一天的位移\r\n                var Day_Trans = (j * 12.5).toString();\r\n                //根据时间计算当前块显示 DATE YYYY-MM-dd\r\n                var DayTimeStr = moment(new Date(ShowYear, parseInt(ShowMonth), parseInt(j + 1))).format('YYYY-MM-DD');\r\n                //根据时间加载数据 svg\r\n                var Data_SVG = GetDayMode_DataShowList(DayTimeStr, Day_Trans);\r\n\r\n                //若当前日期为显示日期\r\n\r\n                if (DayTimeStr == DateShowNowStr) {\r\n                    TimeGar = '<g id=\"guitarpick\" class=\"SVG_guitarpick\"  '\r\n                        + ' transform=\"translate(' + (Day_Trans - 8) + ',-10)\">'\r\n                        + '<title>' + DateShowNowStr + '</title>'\r\n                        + '<path d=\"'\r\n                        + 'M3.658 0.743C1.775 0.743 0.25 3.793 0.25 7.555l0 21.272l7.302 15.711l7.302 15.711l7.302 -15.711l7.302 -15.711l0 -21.272c0 -3.763 -1.526 -6.813 -3.408 -6.813l-22.392 0z'\r\n                        + '\"></path>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"9\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"14\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"19\" y=\"11\" ></rect>'\r\n                        + '</g>';\r\n                }\r\n                //根据时间 初始化 基础svg\r\n                /*      + ' onclick=\"javascript:' + self.DayRectOnClick(evt, ' + ShowYear + ', ' + ShowMonth + ', ' + j + ') + '\"   >'*/\r\n                var SVG_Day = '   <g class=\"tick_Year_One\" transform=\"translate(' + Day_Trans + ')\" >'\r\n                    + '<rect class=\"DayRect Btn_DayRect\" x=\"0.2\" y=\"0\" width=\"12.5\" height=\"55\" value=\"' + ShowYear + '-' + (parseInt(ShowMonth) + 1) + '-' + parseInt(j + 1) + '\">'\r\n                    + '<title>' + ShowYear + '-' + (parseInt(ShowMonth) + 1) + '-' + parseInt(j + 1) + '</title>'\r\n                    + '</rect>'\r\n                    + '<line class=\"tick_dot\" x1=\"12\" x2=\"12\" y1=\"0\" y2=\"52\"></line>'\r\n                    + '</g>';\r\n                SVG_Month = SVG_Month + Data_SVG + SVG_Day;\r\n                if (Day_Trans == \"62.5\" || Day_Trans == \"125\" || Day_Trans == \"187.5\" || Day_Trans == \"250\" || Day_Trans == \"312.5\" || Day_Trans == \"375\") {\r\n                    SVG_Month = SVG_Month\r\n                        + '<line x1=\"' + Day_Trans + '\" x2=\"' + Day_Trans + '\" y1=\"40\" y2=\"55\" class=\"tick_10DayLine\"'\r\n                        + ' ></line>';\r\n                }\r\n            }\r\n            Month_Trans = ( TimeDateCount * 12.5) + Month_Trans;\r\n            var Width = ( TimeDateCount * 12.5);\r\n            var Time = CountDate.getFullYear() + \"-\" + (CountDate.getMonth() + 1);\r\n            var Month_End = '<g transform=\"translate(0)\">'\r\n                + '<rect x=\"0\" y=\"55\" width=\"' + Width + '\" height=\"25\" class=\"Rect_White\"/>'\r\n                + '<text x=\"12\" y=\"73\" class=\"Month_Text_Show\">' + Time + '</text>'\r\n                + '</g>'\r\n                + '<g>'\r\n                + '<circle cx=\"0\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '<circle cx=\"' + Width + '\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '</g>'\r\n                + '<line x1=\"' + Width + '\" x2=\"' + Width + '\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>'\r\n                + '</g>';\r\n            SVG_Month = SVG_Month + TimeGar + Month_End;\r\n            //月显示完结\r\n            SVG_Show = SVG_Show + SVG_Month;\r\n            //时间相加\r\n            CountDate = new Date(moment(CountDate).add(1, 'month'));\r\n        }\r\n        //时间相加\r\n        var ShowTimeLine = document.getElementById(\"ShowSVG_Day\");\r\n        //IE处理\r\n        if (self.browserType != \"MSIE\") {\r\n            ShowTimeLine.innerHTML = SVG_Show;\r\n        }\r\n        else {\r\n            $(\"#ShowSVG_Day\").html(SVG_Show);\r\n        }\r\n        Day_ClickFucn();\r\n    };\r\n\r\n    /**\r\n     * 日模式 -- 单日点击事件\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var DayRectOnClick = function (event) {\r\n        var Tag = event.getAttribute(\"value\");\r\n        var tagsp = Tag.split('-');\r\n        //转化年月日\r\n        var ClickDate = new Date(tagsp[0], (parseInt(tagsp[1]) - 1), tagsp[2]);\r\n        //设置为世界时\r\n        var ClickDateUTC = new Date(moment(ClickDate).format('YYYY-MM-DD') + 'T00:00:00+00:00');\r\n        //使用UTC赋值\r\n        self.SetShowDate(ClickDateUTC);\r\n    };\r\n\r\n    /**\r\n     * 日模式 -- 获取月模式的数据显示SVG 内容函数\r\n     * @param Show_DayDate 输入传入的年时间\r\n     * @param ShowTransLate 当前年时间的位移\r\n     * @returns {*}\r\n     * @constructor\r\n     */\r\n    var GetDayMode_DataShowList = function (Show_DayDate, ShowTransLate) {\r\n        Show_DayDate = Show_DayDate.toString();\r\n        //若数据长度为0 则返回空\r\n        if (!m_DayModeData.length || m_DayModeData.lemgth == 0) {\r\n            return '';\r\n        }\r\n        //数据整体svg\r\n        var ShowLayer_DataSVG = '<g style=\"width: 12px;height: 40px;fill:#5F5F01\" class=\"tick_Data_Show\"'\r\n            + ' transform=\"translate(' + ShowTransLate + ')\">';\r\n\r\n        //日期格式赋值\r\n        var Date_Rect = Show_DayDate;\r\n\r\n        //是否显示列表\r\n        var IsDataShowList = [];\r\n        //查找是否存在数据\r\n        for (var k = 0; k < m_DayModeData.length; k++) {\r\n            var is_ShowTag = false;\r\n            var m_DataInfo_i = m_DayModeData[k];\r\n            var IndexNum = m_DataInfo_i.indexOf(Date_Rect);\r\n            if (IndexNum != -1) {\r\n                is_ShowTag = true;\r\n            }\r\n            //根据数据存在情况加入列表\r\n            IsDataShowList.push(is_ShowTag);\r\n        }\r\n        //判定是否有数据条填充 若无填充 则返回空值\r\n        var IS_ShowTag = false;\r\n        //生成基于 数据的是否显示Ture False 列表　使用列表初始化显示\r\n        var rect_Height = Math.round(40 / m_DayModeData.length, 2);\r\n        if (rect_Height > 10) {\r\n            rect_Height = 10;\r\n        }\r\n        for (var i = 0; i < m_DayModeData.length; i++) {\r\n            var DateRect = '';\r\n            var Rect_Y = i * rect_Height;\r\n            //生成RECT 样式\r\n            if (IsDataShowList[i] == true) {\r\n                //获取当前图层是否显示信息\r\n                var Ishow = m_LayerShowTypeList[i];\r\n                var RectLineEnd = Rect_Y + rect_Height - 0.4;\r\n                //根据显示情况\r\n                if (Ishow) {\r\n                    IS_ShowTag = true;\r\n                    //若该图层显示 则为蓝色\r\n                    DateRect = '<rect class=\"Rect_Data_Show\" x=\"0\" y=\"' + Rect_Y + '\" width=\"12.5\" height=\"' + rect_Height + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                } else {\r\n                    IS_ShowTag = true;\r\n                    //不显示则为灰色\r\n                    DateRect = '<rect class=\"Rect_Data_Hide\" x=\"0\" y=\"' + Rect_Y + '\" width=\"12.5\" height=\"' + rect_Height + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                }\r\n            }\r\n            else {\r\n                //若没有数据 则为空\r\n                DateRect = '';\r\n            }\r\n            //组成矩阵\r\n            ShowLayer_DataSVG = ShowLayer_DataSVG + DateRect;\r\n        }\r\n        ShowLayer_DataSVG = ShowLayer_DataSVG + '</g>';\r\n        if (IS_ShowTag == false) {\r\n            ShowLayer_DataSVG == '';\r\n        }\r\n        return ShowLayer_DataSVG;\r\n    };\r\n\r\n    /*日时间轴部分 end*/\r\n\r\n    /*年时间轴部分 begin*/\r\n    /**\r\n     * 年模式 鼠标左键按下\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var GetMouseDown_Year = function (event) {\r\n        isMove_Year = true;\r\n        event = event || window.event;\r\n        x_Year = event.clientX;\r\n        X_Before_Year = x_Year;\r\n    };\r\n\r\n    /**\r\n     * 年模式--鼠标左键抬起\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var GetMouseUP_Year = function (event) {\r\n        event = event || window.event;\r\n        isMove_Year = false;\r\n        x_Year = event.clientX;\r\n        //X_Before_Year = x_Year;\r\n    };\r\n\r\n    /**\r\n     * 年模式 --鼠标移出DIV\r\n     * @constructor\r\n     */\r\n    var GetMouseOut_Year = function () {\r\n        if (self.browserType != \"Firefox\") {\r\n            isMove_Year = false;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 年模式 --鼠标移动事件\r\n     * @param evt\r\n     * @constructor\r\n     */\r\n    var MouseMove_Year = function (evt) {\r\n        if (isMove_Year) {\r\n            evt = evt || window.event;\r\n            x_Year = evt.clientX;\r\n            var DrgNum = X_Before_Year - x_Year;\r\n\r\n            X_Before_Year = x_Year;\r\n            if (DrgNum >= 2 || DrgNum <= -2) {\r\n                Year_SVGMove(DrgNum);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     *年模式 -- 位移事件\r\n     * @param transform 位移位置\r\n     * @constructor\r\n     */\r\n    var Year_SVGMove = function (transform) {\r\n        //计算当前最新位移\r\n        m_Trans_Year = m_Trans_Year - transform;\r\n        //获取遍历赋值的局部位移 初始量\r\n        var Trans_now = m_Trans_Year;\r\n        //获取年时间轴的DIV\r\n        var m_ShowSVG_Year = document.getElementById(\"SVG_Year_Total\");\r\n        //初始化比较字符串\r\n        var DateShowYearStr = moment(self.DateShow).format('YYYY');\r\n        //总SVG Label\r\n        var YearTotal = '<g id=\"ShowSVG_Year\" transform=\"translate(' + Trans_now + ',10)\" class=\"x aixs\">';\r\n        //初始化年份 1980\r\n        var YearInit = moment(new Date(1980, 0, 1)).year();\r\n        //循环绘制 年模块\r\n        for (var j = 0; j < YearShowCount; j++) {\r\n            var TimeGar = '';\r\n            var TransMode = (j * 250).toString();\r\n            //年模块SVG\r\n            var YearShow = '<g class=\"tick_Total_Year\" transform=\"translate(' + TransMode + ')\">'\r\n                + '<line x1=\"0\" x2=\"0\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>';\r\n            for (var i = 0; i < 10; i++) {\r\n                var YearClick = YearInit + i;\r\n                var Trans = (i * 25).toString();\r\n                //若当前年时间为选择时间 则加入guitarpick指示当前时间\r\n                if (DateShowYearStr == YearClick) {\r\n                    TimeGar = '<g id=\"guitarpick\" class=\"SVG_guitarpick\"  '\r\n                        + ' transform=\"translate(' + (Trans - 3) + ',-10)\">'\r\n                        + '<title>' + YearClick + '</title>'\r\n                        + '<path d=\"'\r\n                        + 'M3.658 0.743C1.775 0.743 0.25 3.793 0.25 7.555l0 21.272l7.302 15.711l7.302 15.711l7.302 -15.711l7.302 -15.711l0 -21.272c0 -3.763 -1.526 -6.813 -3.408 -6.813l-22.392 0z'\r\n                        + '\"></path>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"9\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"14\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"19\" y=\"11\" ></rect>'\r\n                        + '</g>';\r\n                }\r\n                //通过当前时间 绘制背景的数据svg\r\n                var SVG_Data = GetYearMode_DataShowList(YearClick, Trans);\r\n\r\n                var IsTitle = \"\";\r\n                //IE状态下对年Title进行缩放\r\n                if (self.browserType != \"MSIE\") {\r\n                    IsTitle = '<title>' + YearClick + '</title>';\r\n                }\r\n                //绘制基础的年模块部分\r\n                var oneYear = '<g class=\"tick_Year_One\" transform=\"translate(' + Trans + ')\">'\r\n                    + '<rect class=\"DayRect Btn_YearRect\" x=\"0.2\" y=\"0\" width=\"25\" height=\"55\" value=\"' + YearClick + '\"  >'\r\n                    + IsTitle\r\n                    + '</rect>'\r\n                    + '<line class=\"tick_dot\" x1=\"24\" x2=\"24\" y1=\"0\" y2=\"52\"></line>'\r\n                    + '</g>';\r\n                YearShow = YearShow + SVG_Data + oneYear;\r\n            }\r\n            var Right = '<g transform=\"translate(0)\">'\r\n                + '<rect x=\"0\" y=\"55\" width=\"250\" height=\"25\" class=\"Rect_White\" value=\"' + YearInit + '\"/>'\r\n                + '<text x=\"12\" y=\"73\" class=\"Month_Text_Show\">' + YearInit + '</text>'\r\n                + '</g>'\r\n                + '<g>'\r\n                + '<circle cx=\"0\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '<circle cx=\"250\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '</g>'\r\n                + '<line x1=\"250\" x2=\"250\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>'\r\n                + '</g>';\r\n            YearShow = YearShow + TimeGar + Right;\r\n            YearTotal = YearTotal + YearShow;\r\n            //添加10年\r\n            YearInit = YearInit + 10;\r\n        }\r\n        YearTotal = YearTotal\r\n            + '</g>'\r\n                // + '<line x1=\"0\" x2=\"1500\" y1=\"65\" y2=\"65\" class=\"tick_Line\"></line>'\r\n            + '</g>';\r\n        //IE处理\r\n        if (self.browserType != \"MSIE\") {\r\n            m_ShowSVG_Year.innerHTML = YearTotal;\r\n        }\r\n        else {\r\n            $(\"#SVG_Year_Total\").html(YearTotal);\r\n        }\r\n\r\n        var m_Btn_YearRectList = document.getElementsByClassName('Btn_YearRect');\r\n        for (var w = 0; w < m_Btn_YearRectList.length; w++) {\r\n            m_Btn_YearRectList[w].onclick = function () {\r\n                btnClickGetYear(this);\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 年模式 -- 点击事件\r\n     * @param event\r\n     */\r\n    var btnClickGetYear = function (event) {\r\n        //调用设置年函数\r\n        var Tag = event.getAttribute(\"value\");\r\n        var ClickDate = new Date(Tag);\r\n        var m_Year = ClickDate.getFullYear();\r\n        SetShowYear(m_Year);\r\n    };\r\n\r\n    /**\r\n     * 年模式 -- 获取月模式的数据显示SVG 内容函数 输入传入的年时间和当前年时间的位移\r\n     * @param Show_YearDate\r\n     * @param ShowTransLate\r\n     * @returns {*}\r\n     * @constructor\r\n     */\r\n    var GetYearMode_DataShowList = function (Show_YearDate, ShowTransLate) {\r\n        Show_YearDate = Show_YearDate.toString();\r\n        //若数据长度为0 则返回空\r\n        if (m_YearModeData.length == 0 || !m_YearModeData.length) {\r\n            return '';\r\n        }\r\n\r\n        //数据整体svg\r\n        var ShowLayer_DataSVG = '<g style=\"width: 12px;height: 40px;fill:#5F5F01\" class=\"tick_Data_Show\"'\r\n            + ' transform=\"translate(' + ShowTransLate + ')\">';\r\n\r\n        //日期格式赋值\r\n        var Date_Rect = Show_YearDate;\r\n\r\n        //是否显示列表\r\n        var IsDataShowList = [];\r\n        //查找是否存在数据\r\n        for (var k = 0; k < m_YearModeData.length; k++) {\r\n            var is_ShowTag = false;\r\n            var m_DataInfo_i = m_YearModeData[k];\r\n            var IndexNum = m_DataInfo_i.indexOf(Date_Rect);\r\n            if (IndexNum != -1) {\r\n                is_ShowTag = true;\r\n            }\r\n            //根据数据存在情况加入列表\r\n            IsDataShowList.push(is_ShowTag);\r\n        }\r\n\r\n        //判定是否有数据条填充 若无填充 则返回空值\r\n        var IS_ShowTag = false;\r\n        //生成基于 数据的是否显示Ture False 列表　使用列表初始化显示\r\n        var rect_Height = Math.round(40 / m_YearModeData.length, 2);\r\n        if (rect_Height > 10) {\r\n            rect_Height = 10;\r\n        }\r\n        for (var i = 0; i < m_YearModeData.length; i++) {\r\n            var DateRect = '';\r\n            var Rect_Y = i * rect_Height;\r\n            //生成RECT 样式\r\n            if (IsDataShowList[i] == true) {\r\n                //获取当前图层是否显示信息\r\n                var Ishow = m_LayerShowTypeList[i];\r\n                var RectLineEnd = Rect_Y + rect_Height - 0.4;\r\n                //根据显示情况\r\n                if (Ishow) {\r\n                    IS_ShowTag = true;\r\n                    //若该图层显示 则为蓝色\r\n                    DateRect = '<rect class=\"Rect_Data_Show\" x=\"0\" y=\"' + Rect_Y + '\" width=\"25\" height=\"' + rect_Height + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"25\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"25\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                } else {\r\n                    IS_ShowTag = true;\r\n                    //不显示则为灰色\r\n                    DateRect = '<rect class=\"Rect_Data_Hide\" x=\"0\" y=\"' + Rect_Y + '\" width=\"25\" height=\"' + rect_Height + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"25\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"25\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                }\r\n            }\r\n            else {\r\n                //若没有数据 则为空\r\n                DateRect = '';\r\n            }\r\n            //组成矩阵\r\n            ShowLayer_DataSVG = ShowLayer_DataSVG + DateRect;\r\n        }\r\n        ShowLayer_DataSVG = ShowLayer_DataSVG + '</g>';\r\n        if (IS_ShowTag == false) {\r\n            ShowLayer_DataSVG == '';\r\n        }\r\n        return ShowLayer_DataSVG;\r\n    };\r\n\r\n\r\n    /**\r\n     * 月模式 -- 鼠标down事件\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var GetMouseDown_Month = function (event) {\r\n        event = event || window.event;\r\n        x_Month = event.clientX;\r\n        X_Before_Month = x_Month;\r\n        isMove_Month = true;\r\n    };\r\n\r\n    /**\r\n     * 月模式 -- 鼠标抬起事件\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var GetMouseUP_Month = function (event) {\r\n        isMove_Month = false;\r\n    };\r\n\r\n    /**\r\n     * 月模式 -- 鼠标移动事件\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var MouseMove_Month = function (event) {\r\n        event = event || window.event;\r\n        if (isMove_Month) {\r\n            x_Month = event.clientX;\r\n            var DrgNum = X_Before_Month - x_Month;\r\n            if (DrgNum >= 1 || DrgNum <= -1) {\r\n                X_Before_Month = x_Month;\r\n                Month_SvgMove(DrgNum);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 月模式 -- 鼠标移出事件\r\n     * @param event\r\n     * @constructor\r\n     */\r\n    var GetMouseOut_Month = function (event) {\r\n        if (self.browserType != \"Firefox\") {\r\n            isMove_Month = false;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 月模式 -- 初始化TimeLine显示\r\n     * @param DateShow\r\n     * @constructor\r\n     */\r\n    var InitMonthTimeLineShow = function (DateShow) {\r\n        var Trans = (DateShow - self.m_TransYear) * 150;\r\n        Month_SvgMove(Trans);\r\n    };\r\n\r\n    /**\r\n     * 月模式 -- 位移事件 重绘时间轴\r\n     * @param tarnsform\r\n     * @constructor\r\n     */\r\n    var Month_SvgMove = function (tarnsform) {\r\n\r\n        //获取 月模式下 SVG的DIV\r\n        var m_ShowSVG = document.getElementById(\"ShowSVG\");\r\n\r\n        //循环添加\r\n        var InnerSvgTotal = \"\";\r\n        m_Trans_Month = m_Trans_Month - tarnsform;\r\n        while (m_Trans_Month > 150) {\r\n            MonthBegin_Date = new Date(moment(MonthBegin_Date).add(-1.0, 'year'));\r\n            m_Trans_Month = m_Trans_Month - 150;\r\n        }\r\n        while (m_Trans_Month < -150) {\r\n            MonthBegin_Date = new Date(moment(MonthBegin_Date).add(1.0, 'year'));\r\n            m_Trans_Month = m_Trans_Month + 150;\r\n        }\r\n        var m_BeginYear = moment(MonthBegin_Date).year();\r\n        //获取当前选择时间的月份 STR 用于Title显示\r\n        var TimeShowStr_Month = moment(self.DateShow).format(\"YYYY-M\");\r\n        // 月循环 MonthShowCount\r\n        for (var i = 0; i < MonthShowCount; i++) {\r\n            var TimeGar = \"\";\r\n            var TimeStr = (m_BeginYear + i).toString();\r\n            var Trans = i * 150 + m_Trans_Month - 150;\r\n            var InnerSvg = '<g class=\"tick_Total_Year\" Tag=\"' + TimeStr + '\" transform=\"translate(' + Trans + ')\">'\r\n                + '<line x1=\"0\" x2=\"0\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>';\r\n            //月份循环\r\n            for (var Month = 0; Month < 12; Month++) {\r\n                var TransMonth = Month * 12.5;\r\n                var ShowDateStr = TimeStr + \"-\" + ( Month + 1);\r\n                var MonthData_Svg = \"\";\r\n\r\n                //调用函数 返回当前单位是否需要显示数据\r\n                MonthData_Svg = GetMothMode_DataShowList(ShowDateStr, TransMonth);\r\n\r\n                var MonthSVG = '<g class=\"tick_Year_One\" transform=\"translate(' + TransMonth + ')\">'\r\n                    + '<rect x=\"0.2\" y=\"0\" width=\"12.5\" height=\"55\" class=\"DayRect Btn_MonthRect\" value=\"' + ShowDateStr + '\">'\r\n                    + '<title>' + ShowDateStr + '</title>'\r\n                    + '</rect>'\r\n                    + '<line class=\"tick_dot\" x1=\"12\" x2=\"12\" y1=\"0\" y2=\"52\"></line>'\r\n                    + '</g>';\r\n                //若显示月为当前月\r\n                if (TimeShowStr_Month == ShowDateStr) {\r\n\r\n                    TimeGar = '<g id=\"guitarpick\" class=\"SVG_guitarpick\"  '\r\n                        + ' transform=\"translate(' + (Trans + TransMonth - 10) + ',-10)\">'\r\n                        + '<title>' + ShowDateStr + '</title>'\r\n                        + '<path d=\"'\r\n                        + 'M3.658 0.743C1.775 0.743 0.25 3.793 0.25 7.555l0 21.272l7.302 15.711l7.302 15.711l7.302 -15.711l7.302 -15.711l0 -21.272c0 -3.763 -1.526 -6.813 -3.408 -6.813l-22.392 0z'\r\n                        + '\"></path>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"9\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"14\" y=\"11\" ></rect>'\r\n                        + '<rect width=\"3\" height=\"20\" x=\"19\" y=\"11\" ></rect>'\r\n                        + '</g>';\r\n                    // MonthSVG = MonthSVG + TimeGar;\r\n                }\r\n                InnerSvg = InnerSvg + MonthData_Svg + MonthSVG;\r\n            }\r\n\r\n            InnerSvg = InnerSvg + '<g transform=\"translate(0)\">'\r\n                + '<rect x=\"0\" y=\"55\" width=\"150\" height=\"25\"  class=\"Rect_White\"/>'\r\n                + '<text x=\"12\" y=\"73\" class=\"Month_Text_Show\" >' + TimeStr + '年</text>'\r\n                + '</g>'\r\n                + '<g>'\r\n                + '<circle cx=\"0\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '<circle cx=\"150\" cy=\"55\" r=\"5\" stroke=\"white\" stroke-width=\"2\" fill=\"white\"/>'\r\n                + '</g>'\r\n                + '<line x1=\"150\" x2=\"150\" y1=\"0\" y2=\"80\" class=\"tick_Line\"></line>'\r\n                + '</g>'\r\n                + '</g>';\r\n            InnerSvgTotal = InnerSvgTotal + InnerSvg + TimeGar;\r\n        }\r\n\r\n        m_ShowSVG.innerHTML = InnerSvgTotal;\r\n        //IE处理\r\n        if (self.browserType != \"MSIE\") {\r\n            m_ShowSVG.innerHTML = InnerSvgTotal;\r\n        }\r\n        else {\r\n            // console.log(\"IE innerHTML\");\r\n            $(\"#ShowSVG\").html(YearTotal);\r\n        }\r\n        //绑定点击事件\r\n        MonthClickFunc();\r\n    };\r\n\r\n    /**\r\n     * 月模式 -- 点击事件赋值\r\n     * @constructor\r\n     */\r\n    var MonthClickFunc = function () {\r\n        var m_MonthRectList = document.getElementsByClassName(\"Btn_MonthRect\");\r\n        for (var i = 0; i < m_MonthRectList.length; i++) {\r\n            m_MonthRectList[i].onclick = function () {\r\n                SetShowMonth(this);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 月模式 -- 获取月模式的数据显示SVG 内容函数\r\n     * @param Show_MonthDate\r\n     * @param ShowTransLate 位移数据\r\n     * @returns {*}\r\n     * @constructor\r\n     */\r\n    var GetMothMode_DataShowList = function (Show_MonthDate, ShowTransLate) {\r\n\r\n        if (!m_MonthModeData.length) {\r\n            return \"\";\r\n        }\r\n        var ShowLayer_DataSVG = '<g style=\"width: 12px;height: 40px;fill:#5F5F01\" class=\"tick_Data_Show\"'\r\n            + ' transform=\"translate(' + ShowTransLate + ')\">';\r\n\r\n        //日期格式赋值\r\n        var Date_Rect = Show_MonthDate;\r\n        //是否显示列表\r\n        var IsDataShowList = [];\r\n        //查找是否存在数据\r\n        for (var k = 0; k < m_MonthModeData.length; k++) {\r\n            var is_ShowTag = false;\r\n            var m_DataInfo_i = m_MonthModeData[k];\r\n            var IndexNum = m_DataInfo_i.indexOf(Date_Rect);\r\n            if (IndexNum != -1) {\r\n                is_ShowTag = true;\r\n            }\r\n            //根据数据存在情况加入列表\r\n            IsDataShowList.push(is_ShowTag);\r\n        }\r\n        //生成基于 数据的是否显示Ture False 列表　使用列表初始化显示\r\n        var rect_Height = Math.round(40 / m_MonthModeData.length, 2);\r\n\r\n        if (rect_Height > 10) {\r\n            rect_Height = 10;\r\n        }\r\n        var Rect_ShowHeight = rect_Height - 0.8;\r\n        //遍历获取\r\n        for (var i = 0; i < m_MonthModeData.length; i++) {\r\n            var DateRect = '';\r\n            var Rect_Y = i * rect_Height;\r\n            //生成RECT 样式\r\n            if (IsDataShowList[i] == true) {\r\n                //获取当前图层是否显示信息\r\n                var IsData_show = m_LayerShowTypeList[i];\r\n                var RectLineEnd = Rect_Y + rect_Height - 0.2;\r\n                //根据显示情况\r\n                if (IsData_show) {\r\n                    //若该图层显示 则为蓝色\r\n                    DateRect = '<rect class=\"Rect_Data_Show\" x=\"0\" y=\"' + Rect_Y + '\" width=\"12.5\" height=\"' + Rect_ShowHeight + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                }\r\n                else {\r\n                    //有数据 但是当前列 不显示 则为灰色\r\n                    DateRect = '<rect class=\"Rect_Data_Hide\" x=\"0\" y=\"' + Rect_Y + '\" width=\"12.5\" height=\"' + Rect_ShowHeight + '\" ></rect>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + Rect_Y + '\" y2=\"' + Rect_Y + '\" class=\"Data_tick_Line\"></line>'\r\n                        + '<line x1=\"0\" x2=\"12.5\" y1=\"' + RectLineEnd + '\" y2=\"' + RectLineEnd + '\" class=\"Data_tick_Line\"></line>';\r\n                }\r\n            }\r\n            else {\r\n                //若没有数据 则为\r\n                DateRect = '';\r\n            }\r\n            //组成矩阵\r\n            ShowLayer_DataSVG = ShowLayer_DataSVG + DateRect;\r\n        }\r\n        ShowLayer_DataSVG = ShowLayer_DataSVG + '</g>';\r\n\r\n        return ShowLayer_DataSVG;\r\n    };\r\n\r\n\r\n    /**\r\n     * 整体显示 --  点击按钮 伸缩界面 事件\r\n     * @constructor\r\n     */\r\n    var ClickShowAndHide = function () {\r\n        //获取TimeLine 部分的DIV\r\n        var ShowTimeLine = document.getElementsByClassName(\"TimeLineTotalDiv\");\r\n        //如果当前显示为全部\r\n        if (self.Is_ShowSVGLine) {\r\n            for (var i = 0; i < ShowTimeLine.length; i++) {\r\n                ShowTimeLine[i].style.display = \"none\";\r\n            }\r\n            self.Is_ShowSVGLine = false;\r\n        }\r\n        else {\r\n            //如果当前为压缩模式 修改为伸缩模式\r\n            for (var j = 0; j < ShowTimeLine.length; j++) {\r\n                ShowTimeLine[j].style.display = \"block\";\r\n            }\r\n            self.Is_ShowSVGLine = true;\r\n            //伸长后重绘界面 重新计算\r\n            GetFullModeWidth(self.IDName);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 整体显示 --  显示年选择模式\r\n     * @constructor\r\n     */\r\n    var ShowYearMode = function () {\r\n        m_Show_YearDiv = document.getElementById(\"Show_YearDiv\");\r\n        m_Show_MonthDiv = document.getElementById(\"Show_MonthDiv\");\r\n        m_Show_DayDiv = document.getElementById(\"Show_DayDiv\");\r\n        m_Show_MinuteDiv = document.getElementById(\"Show_MinuteDiv\");\r\n\r\n        m_Show_YearDiv.style.display = \"block\";\r\n        m_Show_MonthDiv.style.display = \"none\";\r\n        m_Show_DayDiv.style.display = \"none\";\r\n        m_Show_MinuteDiv.style.display = \"none\";\r\n\r\n        //年按钮可用\r\n        document.getElementById(\"btn_AddYear\").disabled = false;\r\n        document.getElementById(\"btn_MinusYear\").disabled = false;\r\n        //月日按钮不可用\r\n        document.getElementById(\"btn_AddMonth\").disabled = true;\r\n        document.getElementById(\"btn_MinusMonth\").disabled = true;\r\n        document.getElementById(\"btn_AddDay\").disabled = true;\r\n        document.getElementById(\"btn_MinusDay\").disabled = true;\r\n\r\n        Year_SVGMove(0);\r\n        self.ShowMode = \"Year_Mode\";\r\n    };\r\n\r\n    /**\r\n     * 整体显示 -- 显示月显示模式\r\n     * @constructor\r\n     */\r\n    var ShowMonthMode = function () {\r\n\r\n        m_Show_YearDiv = document.getElementById(\"Show_YearDiv\");\r\n        m_Show_MonthDiv = document.getElementById(\"Show_MonthDiv\");\r\n        m_Show_DayDiv = document.getElementById(\"Show_DayDiv\");\r\n        m_Show_MinuteDiv = document.getElementById(\"Show_MinuteDiv\");\r\n\r\n        m_Show_YearDiv.style.display = \"none\";\r\n        m_Show_MonthDiv.style.display = \"block\";\r\n        m_Show_DayDiv.style.display = \"none\";\r\n        m_Show_MinuteDiv.style.display = \"none\";\r\n\r\n        //年月 按钮可用\r\n        document.getElementById(\"btn_AddYear\").disabled = false;\r\n        document.getElementById(\"btn_MinusYear\").disabled = false;\r\n        document.getElementById(\"btn_AddMonth\").disabled = false;\r\n        document.getElementById(\"btn_MinusMonth\").disabled = false;\r\n        //日按钮不可用\r\n        document.getElementById(\"btn_AddDay\").disabled = true;\r\n        document.getElementById(\"btn_MinusDay\").disabled = true;\r\n        self.ShowMode = \"Month_Mode\";\r\n        //计算 差值 每一年 差值150\r\n        m_Trans_Month = (moment(MonthBegin_Date).year() - moment(self.DateShow).year() + 5) * 150;\r\n        Month_SvgMove(0);\r\n    };\r\n\r\n    /**\r\n     * 整体显示 --  显示天显示模式\r\n     * @constructor\r\n     */\r\n    var ShowDayMode = function () {\r\n\r\n        m_Show_YearDiv = document.getElementById(\"Show_YearDiv\");\r\n        m_Show_MonthDiv = document.getElementById(\"Show_MonthDiv\");\r\n        m_Show_DayDiv = document.getElementById(\"Show_DayDiv\");\r\n        m_Show_MinuteDiv = document.getElementById(\"Show_MinuteDiv\");\r\n        m_Show_YearDiv.style.display = \"none\";\r\n        m_Show_MonthDiv.style.display = \"none\";\r\n        m_Show_DayDiv.style.display = \"block\";\r\n        m_Show_MinuteDiv.style.display = \"none\";\r\n\r\n        //年 月日按钮 可用\r\n        $(\"#btn_AddYear\").attr(\"disabled\", false);\r\n        $(\"#btn_MinusYear\").attr(\"disabled\", false);\r\n        $(\"#btn_AddMonth\").attr(\"disabled\", false);\r\n        $(\"#btn_MinusMonth\").attr(\"disabled\", false);\r\n        $(\"#btn_AddDay\").attr(\"disabled\", false);\r\n        $(\"#btn_MinusDay\").attr(\"disabled\", false);\r\n\r\n        //计算  天显示的时间差\r\n        var Time_Day = Math.round((DayBegin_Date - self.DateShow) / 86400000 * 12.5, 2);\r\n        self.ShowMode = \"Day_Mode\";\r\n        m_Trans_Day = m_Trans_Day + Time_Day;\r\n        Day_SVGMove(0);\r\n    };\r\n\r\n    /**\r\n     * 整体显示 --显示 分钟模式\r\n     * @constructor\r\n     */\r\n    var ShowMinuteMode = function () {\r\n        m_Show_YearDiv = document.getElementById(\"Show_YearDiv\");\r\n        m_Show_MonthDiv = document.getElementById(\"Show_MonthDiv\");\r\n        m_Show_DayDiv = document.getElementById(\"Show_DayDiv\");\r\n        m_Show_MinuteDiv = document.getElementById(\"Show_MinuteDiv\");\r\n\r\n        m_Show_YearDiv.style.display = \"none\";\r\n        m_Show_MonthDiv.style.display = \"none\";\r\n        m_Show_DayDiv.style.display = \"none\";\r\n        m_Show_MinuteDiv.style.display = \"block\";\r\n        //年 月日按钮 可用\r\n        $(\"#btn_AddYear\").attr(\"disabled\", false);\r\n        $(\"#btn_MinusYear\").attr(\"disabled\", false);\r\n        $(\"#btn_AddMonth\").attr(\"disabled\", false);\r\n        $(\"#btn_MinusMonth\").attr(\"disabled\", false);\r\n        $(\"#btn_AddDay\").attr(\"disabled\", false);\r\n        $(\"#btn_MinusDay\").attr(\"disabled\", false);\r\n\r\n        self.ShowMode = \"Minute_Mode\";\r\n        var ItemTime = self.DateShow - MinuteBegin_Date - 21600000;\r\n        var m_Trans = ItemTime / 1000 / 60 / 5 * 12.5;\r\n        //拖拽 分钟\r\n        Minute_SVGMove(m_Trans);\r\n    };\r\n\r\n    /**\r\n     * 添加数据函数\r\n     * @param ADDDatas\r\n     * @constructor\r\n     */\r\n    this.ADDLayerData = function (ADDDatas) {\r\n\r\n        var LengthAddCount = ADDDatas.length;\r\n        //对于每一个添加的变量\r\n        if (LengthAddCount) {\r\n            for (var i = 0; i < LengthAddCount; i++) {\r\n                var m_ADDItem = ADDDatas[i];\r\n                m_DataInfoALL.push(m_ADDItem);\r\n                var m_LayerName = m_ADDItem.DataName;\r\n\r\n                var m_Layeris_Show = m_ADDItem.Layeris_Show;\r\n                var IndexNum = m_LayerDataList.indexOf(m_LayerName);\r\n                //若当前不存在 则加入列表及列表-表现层 并为各组数据添加新数据\r\n                if (IndexNum == -1) {\r\n                    m_LayerDataList.push(m_LayerName);\r\n                    m_LayerShowTypeList.push(m_Layeris_Show);\r\n                    m_YearModeData.push([]);\r\n                    m_MonthModeData.push([]);\r\n                    m_DayModeData.push([]);\r\n                    m_MinuteModeData.push([]);\r\n                    IndexNum = m_LayerDataList.length - 1;\r\n                }\r\n                var m_LayerDataInfo = m_ADDItem.DataInfo;\r\n\r\n                //根据DataInfo中第一字段的长度，对当前数据是哪一种类型进行判断\r\n                try {\r\n                    var m_FirstItem = m_LayerDataInfo[0];\r\n                    switch (m_FirstItem.length) {\r\n\r\n                        case 4:\r\n                        {\r\n                            m_YearModeData[IndexNum] = m_LayerDataInfo;\r\n                            break;\r\n                        }\r\n                        case 6:\r\n                        case 7:\r\n                        {\r\n                            m_MonthModeData[IndexNum] = m_LayerDataInfo;\r\n                            break;\r\n                        }\r\n                        case 10:\r\n                        {\r\n                            m_DayModeData[IndexNum] = m_LayerDataInfo;\r\n                            break;\r\n                        }\r\n                        case 16:\r\n                        {\r\n                            m_MinuteModeData[IndexNum] = m_LayerDataInfo;\r\n                            break;\r\n                        }\r\n                        default:\r\n                        {\r\n                            console.log(m_FirstItem);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                catch (err) {\r\n\r\n                }\r\n                // console.log(\"end One\");\r\n            }\r\n        }\r\n        Year_SVGMove(0);\r\n        Month_SvgMove(0);\r\n        Day_SVGMove(0);\r\n        Minute_SVGMove(0);\r\n    };\r\n\r\n    /**\r\n     * 集成原有函数\r\n     * @type {TimeLine.AddMinuteData}\r\n     */\r\n    this.AddYearData = this.AddMonthData = this.AddDayData = this.AddMinuteData = function (m_InsertData) {\r\n        //调用最新的重构函数\r\n        this.ADDLayerData(m_InsertData);\r\n    };\r\n\r\n    /**\r\n     * 重构当前数据\r\n     * @constructor\r\n     */\r\n    var ResetLayerData = function () {\r\n\r\n\r\n        //对于每一个添加的变量\r\n        for (var i = 0; i < m_LayerDataList.length; i++) {\r\n            m_OrderItem = m_LayerDataList[i];\r\n            m_showType = m_LayerShowTypeList[i];\r\n            m_DataInfoALL.forEach(function (m_infoData) {\r\n                if (m_infoData.DataName === m_OrderItem) {\r\n                    var m_LayerDataInfo = m_infoData.DataInfo;\r\n                    //根据DataInfo中第一字段的长度，对当前数据是哪一种类型进行判断\r\n                    try {\r\n                        var m_FirstItem = m_LayerDataInfo[0];\r\n                        switch (m_FirstItem.length) {\r\n\r\n                            case 4:\r\n                            {\r\n                                m_YearModeData[i] = m_LayerDataInfo;\r\n                                break;\r\n                            }\r\n                            case 6:\r\n                            case 7:\r\n                            {\r\n                                m_MonthModeData[i] = m_LayerDataInfo;\r\n                                break;\r\n                            }\r\n                            case 10:\r\n                            {\r\n                                m_DayModeData[i] = m_LayerDataInfo;\r\n                                break;\r\n                            }\r\n                            case 16:\r\n                            {\r\n                                m_MinuteModeData[i] = m_LayerDataInfo;\r\n                                break;\r\n                            }\r\n                            default:\r\n                            {\r\n                                //  console.log(m_FirstItem); todo 不符合标准则丢弃\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n\r\n                    }\r\n                } else {\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        //刷新显示\r\n        Year_SVGMove(0);\r\n        Month_SvgMove(0);\r\n        Day_SVGMove(0);\r\n        Minute_SVGMove(0);\r\n        //RefreshTimeShow(); 会触发重新赋值造成循环\r\n\r\n    };\r\n\r\n    /**\r\n     * 根据名称 对当前数据进行移除\r\n     * @param RemoveDataLayerName\r\n     * @constructor\r\n     */\r\n    this.RemoveLayerDataByName = function (RemoveDataLayerName) {\r\n        var IndexNum = m_LayerDataList.indexOf(RemoveDataLayerName);\r\n        if (IndexNum != -1) {\r\n            m_LayerDataList.splice(IndexNum, 1);\r\n            m_LayerShowTypeList.splice(IndexNum, 1);\r\n            m_YearModeData.splice(IndexNum, 1);\r\n            m_MonthModeData.splice(IndexNum, 1);\r\n            m_DayModeData.splice(IndexNum, 1);\r\n            m_MinuteModeData.splice(IndexNum, 1);\r\n        }\r\n        //删除名称匹配的总数据项目\r\n        var m_NewDat = [];\r\n        for (var i = 0; i < m_DataInfoALL.length; i++) {\r\n            if (m_DataInfoALL[i].DataName != RemoveDataLayerName) {\r\n                m_NewDat.push(m_DataInfoALL[i]);\r\n            }\r\n        }\r\n        m_DataInfoALL = m_NewDat;\r\n        //根据当前移除\r\n        switch (self.ShowMode) {\r\n            case \"Year_Mode\":\r\n            {\r\n                Year_SVGMove(0);\r\n                break;\r\n            }\r\n            case \"Month_Mode\":\r\n            {\r\n                Month_SvgMove(0);\r\n                break;\r\n            }\r\n            case \"Day_Mode\":\r\n            {\r\n                Day_SVGMove(0);\r\n                break;\r\n            }\r\n            case \"Minute_Mode\":\r\n            {\r\n                Minute_SVGMove(0);\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 对数据进行整体重新调整结构\r\n     * @param m_NewDataList\r\n     * @constructor\r\n     */\r\n    this.ReSetLayerList = function (m_NewDataList) {\r\n        m_LayerDataList = [];\r\n        m_LayerShowTypeList = [];\r\n        m_YearModeData = [];\r\n        m_MonthModeData = [];\r\n        m_DayModeData = [];\r\n        m_MinuteModeData = [];\r\n        for (var i = 0; i < m_NewDataList.length; i++) {\r\n            m_LayerDataList.push(m_NewDataList[i].DataName);\r\n            m_LayerShowTypeList.push(m_NewDataList[i].Layeris_Show);\r\n            m_YearModeData.push([]);\r\n            m_MonthModeData.push([]);\r\n            m_DayModeData.push([]);\r\n            m_MinuteModeData.push([]);\r\n        }\r\n        //\r\n        ResetLayerData(m_DataInfoALL);\r\n    };\r\n\r\n\r\n    this.GetLayerList = function () {\r\n        return m_LayerDataList;\r\n    }\r\n\r\n};\r\n\r\n\r\n"]}